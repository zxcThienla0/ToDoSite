(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Kd={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function ZS(){if(Z_)return Sl;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Sl.Fragment=e,Sl.jsx=n,Sl.jsxs=n,Sl}var J_;function JS(){return J_||(J_=1,Kd.exports=ZS()),Kd.exports}var ne=JS(),Qd={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function e1(){if(ev)return be;ev=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function F(D,ee,ae){this.props=D,this.context=ee,this.refs=$,this.updater=ae||U}F.prototype.isReactComponent={},F.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function J(){}J.prototype=F.prototype;function oe(D,ee,ae){this.props=D,this.context=ee,this.refs=$,this.updater=ae||U}var re=oe.prototype=new J;re.constructor=oe,j(re,F.prototype),re.isPureReactComponent=!0;var we=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},xe=Object.prototype.hasOwnProperty;function V(D,ee,ae,te,pe,Ie){return ae=Ie.ref,{$$typeof:r,type:D,key:ee,ref:ae!==void 0?ae:null,props:Ie}}function b(D,ee){return V(D.type,ee,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return ee[ae]})}var M=/\/+/g;function P(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):ee.toString(36)}function C(){}function Lt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ot(D,ee,ae,te,pe){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(Ie){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case r:case e:Te=!0;break;case E:return Te=D._init,ot(Te(D._payload),ee,ae,te,pe)}}if(Te)return pe=pe(D),Te=te===""?"."+P(D,0):te,we(pe)?(ae="",Te!=null&&(ae=Te.replace(M,"$&/")+"/"),ot(pe,ee,ae,"",function(Fn){return Fn})):pe!=null&&(I(pe)&&(pe=b(pe,ae+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(M,"$&/")+"/")+Te)),ee.push(pe)),1;Te=0;var Dt=te===""?".":te+":";if(we(D))for(var Je=0;Je<D.length;Je++)te=D[Je],Ie=Dt+P(te,Je),Te+=ot(te,ee,ae,Ie,pe);else if(Je=w(D),typeof Je=="function")for(D=Je.call(D),Je=0;!(te=D.next()).done;)te=te.value,Ie=Dt+P(te,Je++),Te+=ot(te,ee,ae,Ie,pe);else if(Ie==="object"){if(typeof D.then=="function")return ot(Lt(D),ee,ae,te,pe);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(D,ee,ae){if(D==null)return D;var te=[],pe=0;return ot(D,te,"","",function(Ie){return ee.call(ae,Ie,pe++)}),te}function se(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var de=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Be(){}return be.Children={map:K,forEach:function(D,ee,ae){K(D,function(){ee.apply(this,arguments)},ae)},count:function(D){var ee=0;return K(D,function(){ee++}),ee},toArray:function(D){return K(D,function(ee){return ee})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},be.Component=F,be.Fragment=n,be.Profiler=o,be.PureComponent=oe,be.StrictMode=s,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,be.__COMPILER_RUNTIME={__proto__:null,c:function(D){return fe.H.useMemoCache(D)}},be.cache=function(D){return function(){return D.apply(null,arguments)}},be.cloneElement=function(D,ee,ae){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=j({},D.props),pe=D.key,Ie=void 0;if(ee!=null)for(Te in ee.ref!==void 0&&(Ie=void 0),ee.key!==void 0&&(pe=""+ee.key),ee)!xe.call(ee,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ee.ref===void 0||(te[Te]=ee[Te]);var Te=arguments.length-2;if(Te===1)te.children=ae;else if(1<Te){for(var Dt=Array(Te),Je=0;Je<Te;Je++)Dt[Je]=arguments[Je+2];te.children=Dt}return V(D.type,pe,void 0,void 0,Ie,te)},be.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},be.createElement=function(D,ee,ae){var te,pe={},Ie=null;if(ee!=null)for(te in ee.key!==void 0&&(Ie=""+ee.key),ee)xe.call(ee,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(pe[te]=ee[te]);var Te=arguments.length-2;if(Te===1)pe.children=ae;else if(1<Te){for(var Dt=Array(Te),Je=0;Je<Te;Je++)Dt[Je]=arguments[Je+2];pe.children=Dt}if(D&&D.defaultProps)for(te in Te=D.defaultProps,Te)pe[te]===void 0&&(pe[te]=Te[te]);return V(D,Ie,void 0,void 0,null,pe)},be.createRef=function(){return{current:null}},be.forwardRef=function(D){return{$$typeof:m,render:D}},be.isValidElement=I,be.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:se}},be.memo=function(D,ee){return{$$typeof:g,type:D,compare:ee===void 0?null:ee}},be.startTransition=function(D){var ee=fe.T,ae={};fe.T=ae;try{var te=D(),pe=fe.S;pe!==null&&pe(ae,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Be,de)}catch(Ie){de(Ie)}finally{fe.T=ee}},be.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},be.use=function(D){return fe.H.use(D)},be.useActionState=function(D,ee,ae){return fe.H.useActionState(D,ee,ae)},be.useCallback=function(D,ee){return fe.H.useCallback(D,ee)},be.useContext=function(D){return fe.H.useContext(D)},be.useDebugValue=function(){},be.useDeferredValue=function(D,ee){return fe.H.useDeferredValue(D,ee)},be.useEffect=function(D,ee,ae){var te=fe.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,ee)},be.useId=function(){return fe.H.useId()},be.useImperativeHandle=function(D,ee,ae){return fe.H.useImperativeHandle(D,ee,ae)},be.useInsertionEffect=function(D,ee){return fe.H.useInsertionEffect(D,ee)},be.useLayoutEffect=function(D,ee){return fe.H.useLayoutEffect(D,ee)},be.useMemo=function(D,ee){return fe.H.useMemo(D,ee)},be.useOptimistic=function(D,ee){return fe.H.useOptimistic(D,ee)},be.useReducer=function(D,ee,ae){return fe.H.useReducer(D,ee,ae)},be.useRef=function(D){return fe.H.useRef(D)},be.useState=function(D){return fe.H.useState(D)},be.useSyncExternalStore=function(D,ee,ae){return fe.H.useSyncExternalStore(D,ee,ae)},be.useTransition=function(){return fe.H.useTransition()},be.version="19.1.0",be}var tv;function jm(){return tv||(tv=1,Qd.exports=e1()),Qd.exports}var G=jm(),Yd={exports:{}},wl={},Xd={exports:{}},$d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function t1(){return nv||(nv=1,function(r){function e(K,se){var de=K.length;K.push(se);e:for(;0<de;){var Be=de-1>>>1,D=K[Be];if(0<o(D,se))K[Be]=se,K[de]=D,de=Be;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],de=K.pop();if(de!==se){K[0]=de;e:for(var Be=0,D=K.length,ee=D>>>1;Be<ee;){var ae=2*(Be+1)-1,te=K[ae],pe=ae+1,Ie=K[pe];if(0>o(te,de))pe<D&&0>o(Ie,te)?(K[Be]=Ie,K[pe]=de,Be=pe):(K[Be]=te,K[ae]=de,Be=ae);else if(pe<D&&0>o(Ie,de))K[Be]=Ie,K[pe]=de,Be=pe;else break e}}return se}function o(K,se){var de=K.sortIndex-se.sortIndex;return de!==0?de:K.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],E=1,S=null,w=3,U=!1,j=!1,$=!1,F=!1,J=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function we(K){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=K)s(g),se.sortIndex=se.expirationTime,e(y,se);else break;se=n(g)}}function fe(K){if($=!1,we(K),!j)if(n(y)!==null)j=!0,xe||(xe=!0,P());else{var se=n(g);se!==null&&ot(fe,se.startTime-K)}}var xe=!1,V=-1,b=5,I=-1;function O(){return F?!0:!(r.unstable_now()-I<b)}function M(){if(F=!1,xe){var K=r.unstable_now();I=K;var se=!0;try{e:{j=!1,$&&($=!1,oe(V),V=-1),U=!0;var de=w;try{t:{for(we(K),S=n(y);S!==null&&!(S.expirationTime>K&&O());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,w=S.priorityLevel;var D=Be(S.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){S.callback=D,we(K),se=!0;break t}S===n(y)&&s(y),we(K)}else s(y);S=n(y)}if(S!==null)se=!0;else{var ee=n(g);ee!==null&&ot(fe,ee.startTime-K),se=!1}}break e}finally{S=null,w=de,U=!1}se=void 0}}finally{se?P():xe=!1}}}var P;if(typeof re=="function")P=function(){re(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Lt=C.port2;C.port1.onmessage=M,P=function(){Lt.postMessage(null)}}else P=function(){J(M,0)};function ot(K,se){V=J(function(){K(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var de=w;w=se;try{return K()}finally{w=de}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=w;w=K;try{return se()}finally{w=de}},r.unstable_scheduleCallback=function(K,se,de){var Be=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Be+de:Be):de=Be,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=de+D,K={id:E++,callback:se,priorityLevel:K,startTime:de,expirationTime:D,sortIndex:-1},de>Be?(K.sortIndex=de,e(g,K),n(y)===null&&K===n(g)&&($?(oe(V),V=-1):$=!0,ot(fe,de-Be))):(K.sortIndex=D,e(y,K),j||U||(j=!0,xe||(xe=!0,P()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var se=w;return function(){var de=w;w=se;try{return K.apply(this,arguments)}finally{w=de}}}}($d)),$d}var iv;function n1(){return iv||(iv=1,Xd.exports=t1()),Xd.exports}var Wd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function i1(){if(rv)return Yt;rv=1;var r=jm();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,E)},Yt.flushSync=function(y){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Yt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Yt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,U=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:U}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:w,fetchPriority:U,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Yt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Yt.requestFormReset=function(y){s.d.r(y)},Yt.unstable_batchedUpdates=function(y,g){return y(g)},Yt.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var sv;function r1(){if(sv)return Wd.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wd.exports=i1(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function s1(){if(av)return wl;av=1;var r=n1(),e=jm(),n=r1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),oe=Symbol.for("react.consumer"),re=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case F:return"Profiler";case $:return"StrictMode";case fe:return"Suspense";case xe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case re:return(t.displayName||"Context")+".Provider";case oe:return(t._context.displayName||"Context")+".Consumer";case we:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:Lt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Lt(t(i))}catch{}}return null}var ot=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Be=[],D=-1;function ee(t){return{current:t}}function ae(t){0>D||(t.current=Be[D],Be[D]=null,D--)}function te(t,i){D++,Be[D]=t.current,t.current=i}var pe=ee(null),Ie=ee(null),Te=ee(null),Dt=ee(null);function Je(t,i){switch(te(Te,i),te(Ie,t),te(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?R_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=R_(i),t=I_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(pe),te(pe,t)}function Fn(){ae(pe),ae(Ie),ae(Te)}function er(t){t.memoizedState!==null&&te(Dt,t);var i=pe.current,a=I_(i,t.type);i!==a&&(te(Ie,t),te(pe,a))}function yi(t){Ie.current===t&&(ae(pe),ae(Ie)),Dt.current===t&&(ae(Dt),_l._currentValue=de)}var Wr=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Jr=r.unstable_cancelCallback,po=r.unstable_shouldYield,hu=r.unstable_requestPaint,vn=r.unstable_now,Gh=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,Ys=r.unstable_UserBlockingPriority,es=r.unstable_NormalPriority,Kh=r.unstable_LowPriority,Xs=r.unstable_IdlePriority,yo=r.log,fu=r.unstable_setDisableYieldValue,lt=null,Fe=null;function un(t){if(typeof yo=="function"&&fu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,t)}catch{}}var Kt=Math.clz32?Math.clz32:ts,du=Math.log,Qh=Math.LN2;function ts(t){return t>>>=0,t===0?32:31-(du(t)/Qh|0)|0}var ns=256,is=4194304;function xn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $s(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=xn(l):(v&=T,v!==0?h=xn(v):a||(a=T&~t,a!==0&&(h=xn(a))))):(T=l&~d,T!==0?h=xn(T):v!==0?h=xn(v):a||(a=l&~t,a!==0&&(h=xn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function rs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function _o(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var t=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),t}function Eo(){var t=is;return is<<=1,(is&62914560)===0&&(is=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function To(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Kt(a),W=1<<Q;T[Q]=0,R[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var q=B[Q];q!==null&&(q.lane&=-536870913)}a&=~W}l!==0&&Gn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Gn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Kt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ao(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Kt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ws(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nr(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:K_(t.type))}function mu(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var nt=Math.random().toString(36).slice(2),At="__reactFiber$"+nt,pt="__reactProps$"+nt,En="__reactContainer$"+nt,So="__reactEvents$"+nt,Yh="__reactListeners$"+nt,ir="__reactHandles$"+nt,pu="__reactResources$"+nt,ss="__reactMarker$"+nt;function rr(t){delete t[At],delete t[pt],delete t[So],delete t[Yh],delete t[ir]}function Ei(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[En]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=O_(t);t!==null;){if(a=t[At])return a;t=O_(t)}return i}t=a,a=t.parentNode}return null}function Kn(t){if(t=t[At]||t[En]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Qn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Jt(t){var i=t[pu];return i||(i=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[ss]=!0}var wo=new Set,Zs={};function Pn(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Zs[t]=i,t=0;t<i.length;t++)wo.add(i[t])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},as={};function _u(t){return Wr.call(as,t)?!0:Wr.call(yu,t)?!1:gu.test(t)?as[t]=!0:(yu[t]=!0,!1)}function sr(t,i,a){if(_u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ut(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var os,vu;function Ai(t){if(os===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);os=i&&i[1]||"",vu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+t+vu}var Js=!1;function ea(t,i){if(!t||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(q){var B=q}Reflect.construct(t,[],W)}else{try{W.call()}catch(q){B=q}t.call(W.prototype)}}else{try{throw Error()}catch(q){B=q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),z=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ai(a):""}function bo(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return ea(t.type,!1);case 11:return ea(t.type.render,!1);case 1:return ea(t.type,!0);case 31:return Ai("Activity");default:return""}}function ta(t){try{var i="";do i+=bo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ro(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xh(t){var i=Ro(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function na(t){t._valueTracker||(t._valueTracker=Xh(t))}function Io(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ro(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $h=/[\n"\\]/g;function gt(t){return t.replace($h,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ar(t,v,en(i)):a!=null?ar(t,v,en(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function us(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ar(t,i,a){i==="number"&&ls(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Si(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+en(a):""}function cs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||hs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Co(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Eu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Eu(t,d,i[d])}function Do(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(t){return Zh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var wi=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bi=null,Ri=null;function No(t){var i=Kn(t);if(i&&(t=i.stateNode)){var a=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Io(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Si(t,!!a.multiple,i,!1)}}}var Xn=!1;function Tu(t,i,a){if(Xn)return t(i,a);Xn=!0;try{var l=t(i);return l}finally{if(Xn=!1,(bi!==null||Ri!==null)&&(mc(),bi&&(i=bi,t=Ri,Ri=bi=null,No(i),t)))for(i=0;i<t.length;i++)No(t[i])}}function fs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(kn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Sn=!1}var $n=null,or=null,Ii=null;function Oo(){if(Ii)return Ii;var t,i=or,a=i.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ii=h.slice(t,1<l?1-l:void 0)}function Wn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Vo(){return!1}function Nt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:Vo,this.isPropagationStopped=Vo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Nt(je),ms=E({},je,{view:0,detail:0}),Au=Nt(ms),sa,aa,Jn,ps=E({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(sa=t.screenX-Jn.screenX,aa=t.screenY-Jn.screenY):aa=sa=0,Jn=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),wn=Nt(ps),Su=E({},ps,{dataTransfer:0}),Jh=Nt(Su),gs=E({},ms,{relatedTarget:0}),oa=Nt(gs),Mo=E({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),la=Nt(Mo),wu=E({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ua=Nt(wu),ef=E({},je,{data:0}),xo=Nt(ef),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ru[t])?!!i[t]:!1}function _s(){return Po}var Iu=E({},ms,{key:function(t){if(t.key){var i=ys[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?Wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ca=Nt(Iu),Cu=E({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=Nt(Cu),Ci=E({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Du=Nt(Ci),Nu=E({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ou=Nt(Nu),Vu=E({},ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=Nt(Vu),tn=E({},je,{newState:0,oldState:0}),Mu=Nt(tn),xu=[9,13,27,32],ei=kn&&"CompositionEvent"in window,c=null;kn&&"documentMode"in document&&(c=document.documentMode);var p=kn&&"TextEvent"in window&&!c,_=kn&&(!ei||c&&8<c&&11>=c),A=" ",k=!1;function H(t,i){switch(t){case"keyup":return xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function St(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(k=!0,A);case"textInput":return t=i.data,t===A&&k?null:t;default:return null}}function ke(t,i){if(Pe)return t==="compositionend"||!ei&&H(t,i)?(t=Oo(),Ii=or=$n=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function Di(t,i,a,l){bi?Ri?Ri.push(l):Ri=[l]:bi=l,i=Ec(i,"onChange"),0<i.length&&(a=new ra("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,ti=null;function Lo(t){T_(t,0)}function Pu(t){var i=Qn(t);if(Io(i))return t}function jp(t,i){if(t==="change")return i}var Hp=!1;if(kn){var tf;if(kn){var nf="oninput"in document;if(!nf){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),nf=typeof Fp.oninput=="function"}tf=nf}else tf=!1;Hp=tf&&(!document.documentMode||9<document.documentMode)}function Gp(){zt&&(zt.detachEvent("onpropertychange",Kp),ti=zt=null)}function Kp(t){if(t.propertyName==="value"&&Pu(ti)){var i=[];Di(i,ti,t,An(t)),Tu(Lo,i)}}function CA(t,i,a){t==="focusin"?(Gp(),zt=i,ti=a,zt.attachEvent("onpropertychange",Kp)):t==="focusout"&&Gp()}function DA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(ti)}function NA(t,i){if(t==="click")return Pu(i)}function OA(t,i){if(t==="input"||t==="change")return Pu(i)}function VA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:VA;function Uo(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wr.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yp(t,i){var a=Qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qp(a)}}function Xp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Xp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ls(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ls(t.document)}return i}function rf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var MA=kn&&"documentMode"in document&&11>=document.documentMode,fa=null,sf=null,zo=null,af=!1;function Wp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||fa==null||fa!==ls(l)||(l=fa,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&Uo(zo,l)||(zo=l,l=Ec(sf,"onSelect"),0<l.length&&(i=new ra("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=fa)))}function vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var da={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},of={},Zp={};kn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Es(t){if(of[t])return of[t];if(!da[t])return t;var i=da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zp)return of[t]=i[a];return t}var Jp=Es("animationend"),eg=Es("animationiteration"),tg=Es("animationstart"),xA=Es("transitionrun"),PA=Es("transitionstart"),kA=Es("transitioncancel"),ng=Es("transitionend"),ig=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function Ln(t,i){ig.set(t,i),Pn(i,[t])}var rg=new WeakMap;function bn(t,i){if(typeof t=="object"&&t!==null){var a=rg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ta(i)},rg.set(t,i),i)}return{value:t,source:i,stack:ta(i)}}var Rn=[],ma=0,uf=0;function ku(){for(var t=ma,i=uf=ma=0;i<t;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&sg(a,h,d)}}function Lu(t,i,a,l){Rn[ma++]=t,Rn[ma++]=i,Rn[ma++]=a,Rn[ma++]=l,uf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function cf(t,i,a,l){return Lu(t,i,a,l),Uu(t)}function pa(t,i){return Lu(t,null,null,i),Uu(t)}function sg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Kt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Uu(t){if(50<cl)throw cl=0,gd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ga={};function LA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,a,l){return new LA(t,i,a,l)}function hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,i){var a=t.alternate;return a===null?(a=fn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ag(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function zu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")hf(t)&&(v=1);else if(typeof t=="string")v=zS(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=fn(31,a,i,h),t.elementType=I,t.lanes=d,t;case j:return Ts(a.children,h,d,i);case $:v=8,h|=24;break;case F:return t=fn(12,a,i,h|2),t.elementType=F,t.lanes=d,t;case fe:return t=fn(13,a,i,h),t.elementType=fe,t.lanes=d,t;case xe:return t=fn(19,a,i,h),t.elementType=xe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case re:v=10;break e;case oe:v=9;break e;case we:v=11;break e;case V:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=fn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ts(t,i,a,l){return t=fn(7,t,l,i),t.lanes=a,t}function ff(t,i,a){return t=fn(6,t,null,i),t.lanes=a,t}function df(t,i,a){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ya=[],_a=0,Bu=null,qu=0,In=[],Cn=0,As=null,Oi=1,Vi="";function Ss(t,i){ya[_a++]=qu,ya[_a++]=Bu,Bu=t,qu=i}function og(t,i,a){In[Cn++]=Oi,In[Cn++]=Vi,In[Cn++]=As,As=t;var l=Oi;t=Vi;var h=32-Kt(l)-1;l&=~(1<<h),a+=1;var d=32-Kt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-Kt(i)+h|a<<h|l,Vi=d+t}else Oi=1<<d|a<<h|l,Vi=t}function mf(t){t.return!==null&&(Ss(t,1),og(t,1,0))}function pf(t){for(;t===Bu;)Bu=ya[--_a],ya[_a]=null,qu=ya[--_a],ya[_a]=null;for(;t===As;)As=In[--Cn],In[Cn]=null,Vi=In[--Cn],In[Cn]=null,Oi=In[--Cn],In[Cn]=null}var nn=null,ut=null,qe=!1,ws=null,ni=!1,gf=Error(s(519));function bs(t){var i=Error(s(418,""));throw jo(bn(i,t)),gf}function lg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[pt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)Ne(fl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),us(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),na(i);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),cs(i,l.value,l.defaultValue,l.children),na(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||b_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||bs(t)}function ug(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:nn=nn.return}}function Bo(t){if(t!==nn)return!1;if(!qe)return ug(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vd(t.type,t.memoizedProps)),a=!a),a&&ut&&bs(t),ug(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=zn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Sr(t.type)?(t=kd,kd=null,ut=t):ut=i):ut=nn?zn(t.stateNode.nextSibling):null;return!0}function qo(){ut=nn=null,qe=!1}function cg(){var t=ws;return t!==null&&(an===null?an=t:an.push.apply(an,t),ws=null),t}function jo(t){ws===null?ws=[t]:ws.push(t)}var yf=ee(null),Rs=null,Mi=null;function lr(t,i,a){te(yf,i._currentValue),i._currentValue=a}function xi(t){t._currentValue=yf.current,ae(yf)}function _f(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function vf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),_f(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),_f(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ho(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Dt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&vf(i,t,a,l),i.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){Rs=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return hg(Rs,t)}function Hu(t,i){return Rs===null&&Is(t),hg(t,i)}function hg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(s(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return a}var UA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},zA=r.unstable_scheduleCallback,BA=r.unstable_NormalPriority,bt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new UA,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&zA(BA,function(){t.controller.abort()})}var Go=null,Tf=0,va=0,Ea=null;function qA(t,i){if(Go===null){var a=Go=[];Tf=0,va=Sd(),Ea={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Tf++,i.then(fg,fg),i}function fg(){if(--Tf===0&&Go!==null){Ea!==null&&(Ea.status="fulfilled");var t=Go;Go=null,va=0,Ea=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function jA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var dg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&qA(t,i),dg!==null&&dg(t,i)};var Cs=ee(null);function Af(){var t=Cs.current;return t!==null?t:et.pooledCache}function Fu(t,i){i===null?te(Cs,Cs.current):te(Cs,i.pool)}function mg(){var t=Af();return t===null?null:{parent:bt._currentValue,pool:t}}var Ko=Error(s(460)),pg=Error(s(474)),Gu=Error(s(542)),Sf={then:function(){}};function gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ku(){}function yg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ku,Ku),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vg(t),t;default:if(typeof i.status=="string")i.then(Ku,Ku);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vg(t),t}throw Qo=i,Ko}}var Qo=null;function _g(){if(Qo===null)throw Error(s(459));var t=Qo;return Qo=null,t}function vg(t){if(t===Ko||t===Gu)throw Error(s(483))}var ur=!1;function wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Uu(t),sg(t,null,a),i}return Lu(t,l,i,a),Uu(t)}function Yo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ao(t,a)}}function Rf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var If=!1;function Xo(){if(If){var t=Ea;if(t!==null)throw t}}function $o(t,i,a,l){If=!1;var h=t.updateQueue;ur=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,v===null?d=z:v.next=z,v=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=R))}if(d!==null){var W=h.baseState;v=0,Q=z=R=null,T=d;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(Le&B)===B:(l&B)===B){B!==0&&B===va&&(If=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,ge=T;B=i;var $e=a;switch(ge.tag){case 1:if(Ee=ge.payload,typeof Ee=="function"){W=Ee.call($e,W,B);break e}W=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ge.payload,B=typeof Ee=="function"?Ee.call($e,W,B):Ee,B==null)break e;W=E({},W,B);break e;case 2:ur=!0}}B=T.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=q,R=W):Q=Q.next=q,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(R=W),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),vr|=v,t.lanes=v,t.memoizedState=W}}function Eg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Tg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Eg(a[t],i)}var Ta=ee(null),Qu=ee(0);function Ag(t,i){t=qi,te(Qu,t),te(Ta,i),qi=t|i.baseLanes}function Cf(){te(Qu,qi),te(Ta,Ta.current)}function Df(){qi=Qu.current,ae(Ta),ae(Qu)}var fr=0,Re=null,Ye=null,yt=null,Yu=!1,Aa=!1,Ds=!1,Xu=0,Wo=0,Sa=null,HA=0;function ft(){throw Error(s(321))}function Nf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hn(t[a],i[a]))return!1;return!0}function Of(t,i,a,l,h,d){return fr=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?sy:ay,Ds=!1,d=a(l,h),Ds=!1,Aa&&(d=wg(i,a,l,h)),Sg(t),d}function Sg(t){K.H=tc;var i=Ye!==null&&Ye.next!==null;if(fr=0,yt=Ye=Re=null,Yu=!1,Wo=0,Sa=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&ju(t)&&(Vt=!0))}function wg(t,i,a,l){Re=t;var h=0;do{if(Aa&&(Sa=null),Wo=0,Aa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=$A,d=i(a,l)}while(Aa);return d}function FA(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Zo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Re.flags|=1024),i}function Vf(){var t=Xu!==0;return Xu=0,t}function Mf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function xf(t){if(Yu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Yu=!1}fr=0,yt=Ye=Re=null,Aa=!1,Wo=Xu=0,Sa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Re.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Ye===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=yt===null?Re.memoizedState:yt.next;if(i!==null)yt=i,Ye=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?Re.memoizedState=yt=t:yt=yt.next=t}return yt}function Pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var i=Wo;return Wo+=1,Sa===null&&(Sa=[]),t=yg(Sa,t,i),i=Re,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?sy:ay),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===re)return Qt(t)}throw Error(s(438,String(t)))}function kf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Pf(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Pi(t,i){return typeof i=="function"?i(t):i}function Wu(t){var i=_t();return Lf(i,Ye,t)}function Lf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,R=null,z=i,Q=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Le&W)===W:(fr&W)===W){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===va&&(Q=!0);else if((fr&B)===B){z=z.next,B===va&&(Q=!0);continue}else W={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=W,v=d):R=R.next=W,Re.lanes|=B,vr|=B;W=z.action,Ds&&a(d,W),d=z.hasEagerState?z.eagerState:a(d,W)}else B={lane:W,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=B,v=d):R=R.next=B,Re.lanes|=W,vr|=W;z=z.next}while(z!==null&&z!==i);if(R===null?v=d:R.next=T,!hn(d,t.memoizedState)&&(Vt=!0,Q&&(a=Ea,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Uf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function bg(t,i,a){var l=Re,h=_t(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Vt=!0),h=h.queue;var T=Cg.bind(null,l,h,t);if(Jo(2048,8,T,[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,wa(9,Zu(),Ig.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(fr&124)!==0||Rg(l,i,a)}return a}function Rg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Pf(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ig(t,i,a,l){i.value=a,i.getSnapshot=l,Dg(i)&&Ng(t)}function Cg(t,i,a){return a(function(){Dg(i)&&Ng(t)})}function Dg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hn(t,a)}catch{return!0}}function Ng(t){var i=pa(t,2);i!==null&&yn(i,t,2)}function zf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Ds){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},i}function Og(t,i,a,l){return t.baseState=a,Lf(t,Ye,typeof l=="function"?l:Pi)}function GA(t,i,a,l,h){if(ec(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Vg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Vg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),R=K.S;R!==null&&R(v,T),Mg(t,i,T)}catch(z){Bf(t,i,z)}finally{K.T=d}}else try{d=a(h,l),Mg(t,i,d)}catch(z){Bf(t,i,z)}}function Mg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xg(t,i,l)},function(l){return Bf(t,i,l)}):xg(t,i,a)}function xg(t,i,a){i.status="fulfilled",i.value=a,Pg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Vg(t,a)))}function Bf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Pg(i),i=i.next;while(i!==l)}t.action=null}function Pg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function kg(t,i){return i}function Lg(t,i){if(qe){var a=et.formState;if(a!==null){e:{var l=Re;if(qe){if(ut){t:{for(var h=ut,d=ni;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=zn(h.nextSibling),l=h.data==="F!";break e}}bs(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:i},a.queue=l,a=ny.bind(null,Re,l),l.dispatch=a,l=zf(!1),d=Gf.bind(null,Re,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=GA.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ug(t){var i=_t();return zg(i,Ye,t)}function zg(t,i,a){if(i=Lf(t,i,kg)[0],t=Wu(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Zo(i)}catch(v){throw v===Ko?Gu:v}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,wa(9,Zu(),KA.bind(null,h,a),null)),[l,d,t]}function KA(t,i){t.action=i}function Bg(t){var i=_t(),a=Ye;if(a!==null)return zg(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function wa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Pf(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Zu(){return{destroy:void 0,resource:void 0}}function qg(){return _t().memoizedState}function Ju(t,i,a,l){var h=rn();l=l===void 0?null:l,Re.flags|=t,h.memoizedState=wa(1|i,Zu(),a,l)}function Jo(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Nf(l,Ye.memoizedState.deps)?h.memoizedState=wa(i,d,a,l):(Re.flags|=t,h.memoizedState=wa(1|i,d,a,l))}function jg(t,i){Ju(8390656,8,t,i)}function Hg(t,i){Jo(2048,8,t,i)}function Fg(t,i){return Jo(4,2,t,i)}function Gg(t,i){return Jo(4,4,t,i)}function Kg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Qg(t,i,a){a=a!=null?a.concat([t]):null,Jo(4,4,Kg.bind(null,i,t),a)}function qf(){}function Yg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Nf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Xg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Nf(i,l[1]))return l[0];if(l=t(),Ds){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l}function jf(t,i,a){return a===void 0||(fr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Zy(),Re.lanes|=t,vr|=t,a)}function $g(t,i,a,l){return hn(a,i)?a:Ta.current!==null?(t=jf(t,a,l),hn(t,i)||(Vt=!0),t):(fr&42)===0?(Vt=!0,t.memoizedState=a):(t=Zy(),Re.lanes|=t,vr|=t,i)}function Wg(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,Gf(t,!1,i,a);try{var R=h(),z=K.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=jA(R,l);el(t,i,Q,gn(t))}else el(t,i,l,gn(t))}catch(W){el(t,i,{then:function(){},status:"rejected",reason:W},gn())}finally{se.p=d,K.T=v}}function QA(){}function Hf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Zg(t).queue;Wg(t,h,i,de,a===null?QA:function(){return Jg(t),a(l)})}function Zg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Jg(t){var i=Zg(t).next.queue;el(t,i,{},gn())}function Ff(){return Qt(_l)}function ey(){return _t().memoizedState}function ty(){return _t().memoizedState}function YA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();t=cr(a);var l=hr(i,t,a);l!==null&&(yn(l,i,a),Yo(l,i,a)),i={cache:Ef()},t.payload=i;return}i=i.return}}function XA(t,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ec(t)?iy(i,a):(a=cf(t,i,a,l),a!==null&&(yn(a,t,l),ry(a,i,l)))}function ny(t,i,a){var l=gn();el(t,i,a,l)}function el(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(t))iy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Lu(t,i,h,0),et===null&&ku(),!1}catch{}finally{}if(a=cf(t,i,h,l),a!==null)return yn(a,t,l),ry(a,i,l),!0}return!1}function Gf(t,i,a,l){if(l={lane:2,revertLane:Sd(),action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(i)throw Error(s(479))}else i=cf(t,a,l,2),i!==null&&yn(i,t,2)}function ec(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function iy(t,i){Aa=Yu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ry(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ao(t,a)}}var tc={readContext:Qt,use:$u,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},sy={readContext:Qt,use:$u,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:jg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ju(4194308,4,Kg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ju(4194308,4,t,i)},useInsertionEffect:function(t,i){Ju(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Ds){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Ds){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=XA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=zf(t);var i=t.queue,a=ny.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(t,i){var a=rn();return jf(a,t,i)},useTransition:function(){var t=zf(!1);return t=Wg.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=rn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Le&124)!==0||Rg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,jg(Cg.bind(null,l,d,t),[t]),l.flags|=2048,wa(9,Zu(),Ig.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=et.identifierPrefix;if(qe){var a=Vi,l=Oi;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Xu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=HA++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Ff,useFormState:Lg,useActionState:Lg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:kf,useCacheRefresh:function(){return rn().memoizedState=YA.bind(null,Re)}},ay={readContext:Qt,use:$u,useCallback:Yg,useContext:Qt,useEffect:Hg,useImperativeHandle:Qg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Wu,useRef:qg,useState:function(){return Wu(Pi)},useDebugValue:qf,useDeferredValue:function(t,i){var a=_t();return $g(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Wu(Pi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:bg,useId:ey,useHostTransitionStatus:Ff,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,i){var a=_t();return Og(a,Ye,t,i)},useMemoCache:kf,useCacheRefresh:ty},$A={readContext:Qt,use:$u,useCallback:Yg,useContext:Qt,useEffect:Hg,useImperativeHandle:Qg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Uf,useRef:qg,useState:function(){return Uf(Pi)},useDebugValue:qf,useDeferredValue:function(t,i){var a=_t();return Ye===null?jf(a,t,i):$g(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Uf(Pi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:bg,useId:ey,useHostTransitionStatus:Ff,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,i){var a=_t();return Ye!==null?Og(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:ty},ba=null,tl=0;function nc(t){var i=tl;return tl+=1,ba===null&&(ba=[]),yg(ba,t,i)}function nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function oy(t){var i=t._init;return i(t._payload)}function ly(t){function i(x,N){if(t){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function a(x,N){if(!t)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ni(x,N),x.index=0,x.sibling=null,x}function d(x,N,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,L,Y){return N===null||N.tag!==6?(N=ff(L,x.mode,Y),N.return=x,N):(N=h(N,L),N.return=x,N)}function R(x,N,L,Y){var ce=L.type;return ce===j?Q(x,N,L.props.children,Y,L.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===b&&oy(ce)===N.type)?(N=h(N,L.props),nl(N,L),N.return=x,N):(N=zu(L.type,L.key,L.props,null,x.mode,Y),nl(N,L),N.return=x,N)}function z(x,N,L,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=df(L,x.mode,Y),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function Q(x,N,L,Y,ce){return N===null||N.tag!==7?(N=Ts(L,x.mode,Y,ce),N.return=x,N):(N=h(N,L),N.return=x,N)}function W(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ff(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return L=zu(N.type,N.key,N.props,null,x.mode,L),nl(L,N),L.return=x,L;case U:return N=df(N,x.mode,L),N.return=x,N;case b:var Y=N._init;return N=Y(N._payload),W(x,N,L)}if(ot(N)||P(N))return N=Ts(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return W(x,nc(N),L);if(N.$$typeof===re)return W(x,Hu(x,N),L);ic(x,N)}return null}function B(x,N,L,Y){var ce=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ce!==null?null:T(x,N,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return L.key===ce?R(x,N,L,Y):null;case U:return L.key===ce?z(x,N,L,Y):null;case b:return ce=L._init,L=ce(L._payload),B(x,N,L,Y)}if(ot(L)||P(L))return ce!==null?null:Q(x,N,L,Y,null);if(typeof L.then=="function")return B(x,N,nc(L),Y);if(L.$$typeof===re)return B(x,N,Hu(x,L),Y);ic(x,L)}return null}function q(x,N,L,Y,ce){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(L)||null,T(N,x,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return x=x.get(Y.key===null?L:Y.key)||null,R(N,x,Y,ce);case U:return x=x.get(Y.key===null?L:Y.key)||null,z(N,x,Y,ce);case b:var Ce=Y._init;return Y=Ce(Y._payload),q(x,N,L,Y,ce)}if(ot(Y)||P(Y))return x=x.get(L)||null,Q(N,x,Y,ce,null);if(typeof Y.then=="function")return q(x,N,L,nc(Y),ce);if(Y.$$typeof===re)return q(x,N,L,Hu(N,Y),ce);ic(N,Y)}return null}function Ee(x,N,L,Y){for(var ce=null,Ce=null,he=N,ye=N=0,xt=null;he!==null&&ye<L.length;ye++){he.index>ye?(xt=he,he=null):xt=he.sibling;var ze=B(x,he,L[ye],Y);if(ze===null){he===null&&(he=xt);break}t&&he&&ze.alternate===null&&i(x,he),N=d(ze,N,ye),Ce===null?ce=ze:Ce.sibling=ze,Ce=ze,he=xt}if(ye===L.length)return a(x,he),qe&&Ss(x,ye),ce;if(he===null){for(;ye<L.length;ye++)he=W(x,L[ye],Y),he!==null&&(N=d(he,N,ye),Ce===null?ce=he:Ce.sibling=he,Ce=he);return qe&&Ss(x,ye),ce}for(he=l(he);ye<L.length;ye++)xt=q(he,x,ye,L[ye],Y),xt!==null&&(t&&xt.alternate!==null&&he.delete(xt.key===null?ye:xt.key),N=d(xt,N,ye),Ce===null?ce=xt:Ce.sibling=xt,Ce=xt);return t&&he.forEach(function(Cr){return i(x,Cr)}),qe&&Ss(x,ye),ce}function ge(x,N,L,Y){if(L==null)throw Error(s(151));for(var ce=null,Ce=null,he=N,ye=N=0,xt=null,ze=L.next();he!==null&&!ze.done;ye++,ze=L.next()){he.index>ye?(xt=he,he=null):xt=he.sibling;var Cr=B(x,he,ze.value,Y);if(Cr===null){he===null&&(he=xt);break}t&&he&&Cr.alternate===null&&i(x,he),N=d(Cr,N,ye),Ce===null?ce=Cr:Ce.sibling=Cr,Ce=Cr,he=xt}if(ze.done)return a(x,he),qe&&Ss(x,ye),ce;if(he===null){for(;!ze.done;ye++,ze=L.next())ze=W(x,ze.value,Y),ze!==null&&(N=d(ze,N,ye),Ce===null?ce=ze:Ce.sibling=ze,Ce=ze);return qe&&Ss(x,ye),ce}for(he=l(he);!ze.done;ye++,ze=L.next())ze=q(he,x,ye,ze.value,Y),ze!==null&&(t&&ze.alternate!==null&&he.delete(ze.key===null?ye:ze.key),N=d(ze,N,ye),Ce===null?ce=ze:Ce.sibling=ze,Ce=ze);return t&&he.forEach(function(WS){return i(x,WS)}),qe&&Ss(x,ye),ce}function $e(x,N,L,Y){if(typeof L=="object"&&L!==null&&L.type===j&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case w:e:{for(var ce=L.key;N!==null;){if(N.key===ce){if(ce=L.type,ce===j){if(N.tag===7){a(x,N.sibling),Y=h(N,L.props.children),Y.return=x,x=Y;break e}}else if(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===b&&oy(ce)===N.type){a(x,N.sibling),Y=h(N,L.props),nl(Y,L),Y.return=x,x=Y;break e}a(x,N);break}else i(x,N);N=N.sibling}L.type===j?(Y=Ts(L.props.children,x.mode,Y,L.key),Y.return=x,x=Y):(Y=zu(L.type,L.key,L.props,null,x.mode,Y),nl(Y,L),Y.return=x,x=Y)}return v(x);case U:e:{for(ce=L.key;N!==null;){if(N.key===ce)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(x,N.sibling),Y=h(N,L.children||[]),Y.return=x,x=Y;break e}else{a(x,N);break}else i(x,N);N=N.sibling}Y=df(L,x.mode,Y),Y.return=x,x=Y}return v(x);case b:return ce=L._init,L=ce(L._payload),$e(x,N,L,Y)}if(ot(L))return Ee(x,N,L,Y);if(P(L)){if(ce=P(L),typeof ce!="function")throw Error(s(150));return L=ce.call(L),ge(x,N,L,Y)}if(typeof L.then=="function")return $e(x,N,nc(L),Y);if(L.$$typeof===re)return $e(x,N,Hu(x,L),Y);ic(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(x,N.sibling),Y=h(N,L),Y.return=x,x=Y):(a(x,N),Y=ff(L,x.mode,Y),Y.return=x,x=Y),v(x)):a(x,N)}return function(x,N,L,Y){try{tl=0;var ce=$e(x,N,L,Y);return ba=null,ce}catch(he){if(he===Ko||he===Gu)throw he;var Ce=fn(29,he,null,x.mode);return Ce.lanes=Y,Ce.return=x,Ce}finally{}}}var Ra=ly(!0),uy=ly(!1),Dn=ee(null),ii=null;function dr(t){var i=t.alternate;te(Rt,Rt.current&1),te(Dn,t),ii===null&&(i===null||Ta.current!==null||i.memoizedState!==null)&&(ii=t)}function cy(t){if(t.tag===22){if(te(Rt,Rt.current),te(Dn,t),ii===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ii=t)}}else mr()}function mr(){te(Rt,Rt.current),te(Dn,Dn.current)}function ki(t){ae(Dn),ii===t&&(ii=null),ae(Rt)}var Rt=ee(0);function rc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Pd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Kf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=gn(),h=cr(l);h.payload=i,a!=null&&(h.callback=a),i=hr(t,h,l),i!==null&&(yn(i,t,l),Yo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=gn(),h=cr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=hr(t,h,l),i!==null&&(yn(i,t,l),Yo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),l=cr(a);l.tag=2,i!=null&&(l.callback=i),i=hr(t,l,a),i!==null&&(yn(i,t,a),Yo(i,t,a))}};function hy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Uo(a,l)||!Uo(h,d):!0}function fy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Qf.enqueueReplaceState(i,i.state,null)}function Ns(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dy(t){sc(t)}function my(t){console.error(t)}function py(t){sc(t)}function ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,i,a){return a=cr(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(t,i)},a}function yy(t){return t=cr(t),t.tag=3,t}function _y(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){gy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){gy(i,a,l),typeof h!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function WA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ho(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ii===null?_d():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Sf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ed(t,l,h)),!1;case 22:return a.flags|=65536,l===Sf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ed(t,l,h)),!1}throw Error(s(435,a.tag))}return Ed(t,l,h),_d(),!1}if(qe)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gf&&(t=Error(s(422),{cause:l}),jo(bn(t,a)))):(l!==gf&&(i=Error(s(423),{cause:l}),jo(bn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,a),h=Yf(t.stateNode,l,h),Rf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),ul===null?ul=[d]:ul.push(d),ct!==4&&(ct=2),i===null)return!0;l=bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Yf(a.stateNode,l,t),Rf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Er===null||!Er.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yy(h),_y(h,t,a,l),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var vy=Error(s(461)),Vt=!1;function Bt(t,i,a,l){i.child=t===null?uy(i,null,a,l):Ra(i,t.child,a,l)}function Ey(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Is(i),l=Of(t,i,a,v,d,h),T=Vf(),t!==null&&!Vt?(Mf(t,i,h),Li(t,i,h)):(qe&&T&&mf(i),i.flags|=1,Bt(t,i,l,h),i.child)}function Ty(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ay(t,i,d,l,h)):(t=zu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!nd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(v,l)&&t.ref===i.ref)return Li(t,i,h)}return i.flags|=1,t=Ni(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ay(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Uo(d,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,nd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,Li(t,i,h)}return Xf(t,i,a,l,h)}function Sy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return wy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(i,d!==null?d.cachePool:null),d!==null?Ag(i,d):Cf(),cy(i);else return i.lanes=i.childLanes=536870912,wy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Fu(i,d.cachePool),Ag(i,d),mr(),i.memoizedState=null):(t!==null&&Fu(i,null),Cf(),mr());return Bt(t,i,h,a),i.child}function wy(t,i,a,l){var h=Af();return h=h===null?null:{parent:bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Fu(i,null),Cf(),cy(i),t!==null&&Ho(t,i,l,!0),null}function oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Xf(t,i,a,l,h){return Is(i),a=Of(t,i,a,l,void 0,h),l=Vf(),t!==null&&!Vt?(Mf(t,i,h),Li(t,i,h)):(qe&&l&&mf(i),i.flags|=1,Bt(t,i,a,h),i.child)}function by(t,i,a,l,h,d){return Is(i),i.updateQueue=null,a=wg(i,l,a,h),Sg(t),l=Vf(),t!==null&&!Vt?(Mf(t,i,d),Li(t,i,d)):(qe&&l&&mf(i),i.flags|=1,Bt(t,i,a,d),i.child)}function Ry(t,i,a,l,h){if(Is(i),i.stateNode===null){var d=ga,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):ga,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Qf.enqueueReplaceState(d,d.state,null),$o(i,l,d,h),Xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,R=Ns(a,T);d.props=R;var z=d.context,Q=a.contextType;v=ga,typeof Q=="object"&&Q!==null&&(v=Qt(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&fy(i,d,l,v),ur=!1;var B=i.memoizedState;d.state=B,$o(i,l,d,h),Xo(),z=i.memoizedState,T||B!==z||ur?(typeof W=="function"&&(Kf(i,a,W,l),z=i.memoizedState),(R=ur||hy(i,a,R,l,B,z,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,bf(t,i),v=i.memoizedProps,Q=Ns(a,v),d.props=Q,W=i.pendingProps,B=d.context,z=a.contextType,R=ga,typeof z=="object"&&z!==null&&(R=Qt(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||B!==R)&&fy(i,d,l,R),ur=!1,B=i.memoizedState,d.state=B,$o(i,l,d,h),Xo();var q=i.memoizedState;v!==W||B!==q||ur||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof T=="function"&&(Kf(i,a,T,l),q=i.memoizedState),(Q=ur||hy(i,a,Q,l,B,q,R)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=R,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,oc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ra(i,t.child,null,h),i.child=Ra(i,null,a,h)):Bt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Li(t,i,h),t}function Iy(t,i,a,l){return qo(),i.flags|=256,Bt(t,i,a,l),i.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:mg()}}function Zf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function Cy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?dr(i):mr(),qe){var T=ut,R;if(R=T){e:{for(R=T,T=ni;R.nodeType!==8;){if(!T){T=null;break e}if(R=zn(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:As!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},R=fn(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,nn=i,ut=null,R=!0):R=!1}R||bs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Pd(T)?i.lanes=32:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,h?(mr(),h=i.mode,T=lc({mode:"hidden",children:T},h),l=Ts(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Wf(a),h.childLanes=Zf(t,v,a),i.memoizedState=$f,l):(dr(i),Jf(i,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(dr(i),i.flags&=-257,i=ed(t,i,a)):i.memoizedState!==null?(mr(),i.child=t.child,i.flags|=128,i=null):(mr(),h=l.fallback,T=i.mode,l=lc({mode:"visible",children:l.children},T),h=Ts(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ra(i,t.child,null,a),l=i.child,l.memoizedState=Wf(a),l.childLanes=Zf(t,v,a),i.memoizedState=$f,i=h);else if(dr(i),Pd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,jo({value:l,source:null,stack:null}),i=ed(t,i,a)}else if(Vt||Ho(t,i,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:tr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,pa(t,l),yn(v,t,l),vy;T.data==="$?"||_d(),i=ed(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,ut=zn(T.nextSibling),nn=i,qe=!0,ws=null,ni=!1,t!==null&&(In[Cn++]=Oi,In[Cn++]=Vi,In[Cn++]=As,Oi=t.id,Vi=t.overflow,As=i),i=Jf(i,l.children),i.flags|=4096);return i}return h?(mr(),h=l.fallback,T=i.mode,R=t.child,z=R.sibling,l=Ni(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?h=Ni(z,h):(h=Ts(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Wf(a):(R=T.cachePool,R!==null?(z=bt._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=mg(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=Zf(t,v,a),i.memoizedState=$f,l):(dr(i),a=t.child,t=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Jf(t,i){return i=lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function lc(t,i){return t=fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ed(t,i,a){return Ra(i,t.child,null,a),t=Jf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Dy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),_f(t.return,i,a)}function td(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ny(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(t,i,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,a,i);else if(t.tag===19)Dy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(te(Rt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),td(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}td(i,!0,a,null,d);break;case"together":td(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),vr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ho(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ni(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ni(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function nd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function ZA(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),lr(i,bt,t.memoizedState.cache),qo();break;case 27:case 5:er(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:lr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Cy(t,i,a):(dr(i),t=Li(t,i,a),t!==null?t.sibling:null);dr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ho(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ny(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,Sy(t,i,a);case 24:lr(i,bt,t.memoizedState.cache)}return Li(t,i,a)}function Oy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!nd(t,a)&&(i.flags&128)===0)return Vt=!1,ZA(t,i,a);Vt=(t.flags&131072)!==0}else Vt=!1,qe&&(i.flags&1048576)!==0&&og(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")hf(l)?(t=Ns(l,t),i.tag=1,i=Ry(null,i,l,t,a)):(i.tag=0,i=Xf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===we){i.tag=11,i=Ey(null,i,l,t,a);break e}else if(h===V){i.tag=14,i=Ty(null,i,l,t,a);break e}}throw i=Lt(l)||l,Error(s(306,i,""))}}return i;case 0:return Xf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ns(l,i.pendingProps),Ry(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,bf(t,i),$o(i,l,null,a);var v=i.memoizedState;if(l=v.cache,lr(i,bt,l),l!==d.cache&&vf(i,[bt],a,!0),Xo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Iy(t,i,l,a);break e}else if(l!==h){h=bn(Error(s(424)),i),jo(h),i=Iy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=zn(t.firstChild),nn=i,qe=!0,ws=null,ni=!0,a=uy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qo(),l===h){i=Li(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return oc(t,i),t===null?(a=P_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Ac(Te.current).createElement(a),l[At]=i,l[pt]=t,jt(l,a,t),ht(l),i.stateNode=l):i.memoizedState=P_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return er(i),t===null&&qe&&(l=i.stateNode=V_(i.type,i.pendingProps,Te.current),nn=i,ni=!0,h=ut,Sr(i.type)?(kd=h,ut=zn(l.firstChild)):ut=h),Bt(t,i,i.pendingProps.children,a),oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=ut)&&(l=RS(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,nn=i,ut=zn(l.firstChild),ni=!1,h=!0):h=!1),h||bs(i)),er(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Vd(h,d)?l=null:v!==null&&Vd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(t,i,FA,null,null,a),_l._currentValue=h),oc(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=IS(a,i.pendingProps,ni),a!==null?(i.stateNode=a,nn=i,ut=null,t=!0):t=!1),t||bs(i)),null;case 13:return Cy(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ra(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return Ey(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,lr(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Is(i),h=Qt(h),l=l(h),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return Ty(t,i,i.type,i.pendingProps,a);case 15:return Ay(t,i,i.type,i.pendingProps,a);case 19:return Ny(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=lc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Sy(t,i,a);case 24:return Is(i),l=Qt(bt),t===null?(h=Af(),h===null&&(h=et,d=Ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),lr(i,bt,h)):((t.lanes&a)!==0&&(bf(t,i),$o(i,null,null,a),Xo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),lr(i,bt,l)):(l=d.cache,lr(i,bt,l),l!==h.cache&&vf(i,[bt],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(t){t.flags|=4}function Vy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!B_(i)){if(i=Dn.current,i!==null&&((Le&4194048)===Le?ii!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ii))throw Qo=Sf,pg;t.flags|=8192}}function uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Eo():536870912,t.lanes|=i,Na|=i)}function il(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function JA(t,i,a){var l=i.pendingProps;switch(pf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),xi(bt),Fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Bo(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cg())),rt(i),null;case 26:return a=i.memoizedState,t===null?(Ui(i),a!==null?(rt(i),Vy(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ui(i),rt(i),Vy(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ui(i),rt(i),i.flags&=-16777217),null;case 27:yi(i),a=Te.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=pe.current,Bo(i)?lg(i):(t=V_(h,l,a),i.stateNode=t,Ui(i))}return rt(i),null;case 5:if(yi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=pe.current,Bo(i))lg(i);else{switch(h=Ac(Te.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[At]=i,t[pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ui(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Te.current,Bo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||b_(t.nodeValue,a)),t||bs(i)}else t=Ac(t).createTextNode(l),t[At]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Bo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=i}else qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=cg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),uc(i,i.updateQueue),rt(i),null;case 4:return Fn(),t===null&&Id(i.stateNode.containerInfo),rt(i),null;case 10:return xi(i.type),rt(i),null;case 19:if(ae(Rt),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)il(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=rc(t),d!==null){for(i.flags|=128,il(h,!1),t=d.updateQueue,i.updateQueue=t,uc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ag(a,t),a=a.sibling;return te(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&vn()>fc&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304)}else{if(!l)if(t=rc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,uc(i,t),il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return rt(i),null}else 2*vn()-h.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,t=Rt.current,te(Rt,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return ki(i),Df(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&uc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ae(Cs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xi(bt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function eS(t,i){switch(pf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return xi(bt),Fn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(ki(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ae(Rt),null;case 4:return Fn(),null;case 10:return xi(i.type),null;case 22:case 23:return ki(i),Df(),t!==null&&ae(Cs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return xi(bt),null;case 25:return null;default:return null}}function My(t,i){switch(pf(i),i.tag){case 3:xi(bt),Fn();break;case 26:case 27:case 5:yi(i);break;case 4:Fn();break;case 13:ki(i);break;case 19:ae(Rt);break;case 10:xi(i.type);break;case 22:case 23:ki(i),Df(),t!==null&&ae(Cs);break;case 24:xi(bt)}}function rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function pr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a,z=T;try{z()}catch(Q){We(h,R,Q)}}}l=l.next}while(l!==d)}}catch(Q){We(i,i.return,Q)}}function xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Tg(i,a)}catch(l){We(t,t.return,l)}}}function Py(t,i,a){a.props=Ns(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function ri(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function ky(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function id(t,i,a){try{var l=t.stateNode;TS(l,t.type,a,i),l[pt]=i}catch(h){We(t,t.return,h)}}function Ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sr(t.type)||t.tag===4}function rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&(l===27&&Sr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(sd(t,i,a),t=t.sibling;t!==null;)sd(t,i,a),t=t.sibling}function cc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Sr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cc(t,i,a),t=t.sibling;t!==null;)cc(t,i,a),t=t.sibling}function Uy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);jt(i,l,a),i[At]=t,i[pt]=a}catch(d){We(t,t.return,d)}}var zi=!1,dt=!1,ad=!1,zy=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function tS(t,i){if(t=t.containerInfo,Nd=Cc,t=$p(t),rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,R=-1,z=0,Q=0,W=t,B=null;t:for(;;){for(var q;W!==a||h!==0&&W.nodeType!==3||(T=v+h),W!==d||l!==0&&W.nodeType!==3||(R=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(q=W.firstChild)!==null;)B=W,W=q;for(;;){if(W===t)break t;if(B===a&&++z===h&&(T=v),B===d&&++Q===l&&(R=v),(q=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:t,selectionRange:a},Cc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Ns(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){We(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function By(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gr(t,a),l&4&&rl(5,a);break;case 1:if(gr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Ns(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&xy(a),l&512&&sl(a,a.return);break;case 3:if(gr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Tg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&Uy(a);case 26:case 5:gr(t,a),i===null&&l&4&&ky(a),l&512&&sl(a,a.return);break;case 12:gr(t,a);break;case 13:gr(t,a),l&4&&Hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=cS.bind(null,a),CS(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){i=i!==null&&i.memoizedState!==null||dt,h=zi;var d=dt;zi=l,(dt=i)&&!d?yr(t,a,(a.subtreeFlags&8772)!==0):gr(t,a),zi=h,dt=d}break;case 30:break;default:gr(t,a)}}function qy(t){var i=t.alternate;i!==null&&(t.alternate=null,qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&rr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,sn=!1;function Bi(t,i,a){for(a=a.child;a!==null;)jy(t,i,a),a=a.sibling}function jy(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||ri(a,i),Bi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||ri(a,i);var l=it,h=sn;Sr(a.type)&&(it=a.stateNode,sn=!1),Bi(t,i,a),ml(a.stateNode),it=l,sn=h;break;case 5:dt||ri(a,i);case 6:if(l=it,h=sn,it=null,Bi(t,i,a),it=l,sn=h,it!==null)if(sn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{it.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:it!==null&&(sn?(t=it,N_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Al(t)):N_(it,a.stateNode));break;case 4:l=it,h=sn,it=a.stateNode.containerInfo,sn=!0,Bi(t,i,a),it=l,sn=h;break;case 0:case 11:case 14:case 15:dt||pr(2,a,i),dt||pr(4,a,i),Bi(t,i,a);break;case 1:dt||(ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Py(a,i,l)),Bi(t,i,a);break;case 21:Bi(t,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Bi(t,i,a),dt=l;break;default:Bi(t,i,a)}}function Hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Al(t)}catch(a){We(i,i.return,a)}}function nS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new zy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new zy),i;default:throw Error(s(435,t.tag))}}function od(t,i){var a=nS(t);i.forEach(function(l){var h=hS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Sr(T.type)){it=T.stateNode,sn=!1;break e}break;case 5:it=T.stateNode,sn=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(it===null)throw Error(s(160));jy(d,v,h),it=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Fy(i,t),i=i.sibling}var Un=null;function Fy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(pr(3,t,t.return),rl(3,t),pr(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(dt||a===null||ri(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(dn(i,t),mn(t),l&512&&(dt||a===null||ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ss]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jt(d,l,a),d[At]=t,ht(d),l=d;break e;case"link":var v=U_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=U_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,ht(d),l=d}t.stateNode=l}else z_(h,t.type,t.stateNode);else t.stateNode=L_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?z_(h,t.type,t.stateNode):L_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&id(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(dt||a===null||ri(a,a.return)),a!==null&&l&4&&id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(dt||a===null||ri(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(q){We(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,id(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ad=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){We(t,t.return,q)}}break;case 3:if(bc=null,h=Un,Un=Sc(i.containerInfo),dn(i,t),Un=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Al(i.containerInfo)}catch(q){We(t,t.return,q)}ad&&(ad=!1,Gy(t));break;case 4:l=Un,Un=Sc(t.stateNode.containerInfo),dn(i,t),mn(t),Un=l;break;case 12:dn(i,t),mn(t);break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dd=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,od(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=zi,Q=dt;if(zi=z||h,dt=Q||R,dn(i,t),dt=Q,zi=z,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||zi||dt||Os(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var W=R.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){We(R,R.return,q)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(q){We(R,R.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,od(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,od(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Ly(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=rd(t);cc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=rd(t);cc(t,T,v);break;case 3:case 4:var R=a.stateNode.containerInfo,z=rd(t);sd(t,z,R);break;default:throw Error(s(161))}}catch(Q){We(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Gy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function gr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)By(t,i.alternate,i),i=i.sibling}function Os(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:pr(4,i,i.return),Os(i);break;case 1:ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Py(i,i.return,a),Os(i);break;case 27:ml(i.stateNode);case 26:case 5:ri(i,i.return),Os(i);break;case 22:i.memoizedState===null&&Os(i);break;case 30:Os(i);break;default:Os(i)}t=t.sibling}}function yr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:yr(h,d,a),rl(4,d);break;case 1:if(yr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){We(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Eg(R[h],T)}catch(z){We(l,l.return,z)}}a&&v&64&&xy(d),sl(d,d.return);break;case 27:Uy(d);case 26:case 5:yr(h,d,a),a&&l===null&&v&4&&ky(d),sl(d,d.return);break;case 12:yr(h,d,a);break;case 13:yr(h,d,a),a&&v&4&&Hy(h,d);break;case 22:d.memoizedState===null&&yr(h,d,a),sl(d,d.return);break;case 30:break;default:yr(h,d,a)}i=i.sibling}}function ld(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fo(a))}function ud(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Fo(t))}function si(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ky(t,i,a,l),i=i.sibling}function Ky(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(t,i,a,l),h&2048&&rl(9,i);break;case 1:si(t,i,a,l);break;case 3:si(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Fo(t)));break;case 12:if(h&2048){si(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){We(i,i.return,R)}}else si(t,i,a,l);break;case 13:si(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?si(t,i,a,l):al(t,i):d._visibility&2?si(t,i,a,l):(d._visibility|=2,Ia(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ld(v,i);break;case 24:si(t,i,a,l),h&2048&&ud(i.alternate,i);break;default:si(t,i,a,l)}}function Ia(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,R=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Ia(d,v,T,R,h),rl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Ia(d,v,T,R,h):al(d,v):(Q._visibility|=2,Ia(d,v,T,R,h)),h&&z&2048&&ld(v.alternate,v);break;case 24:Ia(d,v,T,R,h),h&&z&2048&&ud(v.alternate,v);break;default:Ia(d,v,T,R,h)}i=i.sibling}}function al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:al(a,l),h&2048&&ld(l.alternate,l);break;case 24:al(a,l),h&2048&&ud(l.alternate,l);break;default:al(a,l)}i=i.sibling}}var ol=8192;function Ca(t){if(t.subtreeFlags&ol)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 26:Ca(t),t.flags&ol&&t.memoizedState!==null&&qS(Un,t.memoizedState,t.memoizedProps);break;case 5:Ca(t);break;case 3:case 4:var i=Un;Un=Sc(t.stateNode.containerInfo),Ca(t),Un=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ol,ol=16777216,Ca(t),ol=i):Ca(t));break;default:Ca(t)}}function Yy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,$y(l,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:ll(t),t.flags&2048&&pr(9,t,t.return);break;case 3:ll(t);break;case 12:ll(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,hc(t)):ll(t);break;default:ll(t)}}function hc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,$y(l,t)}Yy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:pr(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}t=t.sibling}}function $y(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(qy(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var iS={getCacheForType:function(t){var i=Qt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},rS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,De=null,Le=0,Ke=0,pn=null,_r=!1,Da=!1,cd=!1,qi=0,ct=0,vr=0,Vs=0,hd=0,Nn=0,Na=0,ul=null,an=null,fd=!1,dd=0,fc=1/0,dc=null,Er=null,qt=0,Tr=null,Oa=null,Va=0,md=0,pd=null,Wy=null,cl=0,gd=null;function gn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(K.T!==null){var t=va;return t!==0?t:Sd()}return nr()}function Zy(){Nn===0&&(Nn=(Le&536870912)===0||qe?vo():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),Nn}function yn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Ar(t,Le,Nn,!1)),vi(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Vs|=a),ct===4&&Ar(t,Le,Nn,!1)),ai(t))}function Jy(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||rs(t,i),h=l?oS(t,i):vd(t,i,!0),d=l;do{if(h===0){Da&&!l&&Ar(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!sS(a)){h=vd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=ul;var R=T.current.memoizedState.isDehydrated;if(R&&(Ma(T,v).flags|=256),v=vd(T,v,!1),v!==2){if(cd&&!R){T.errorRecoveryDisabledLanes|=d,Vs|=d,h=4;break e}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ma(t,0),Ar(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ar(l,i,Nn,!_r);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=dd+300-vn(),10<h)){if(Ar(l,i,Nn,!_r),$s(l,0,!0)!==0)break e;l.timeoutHandle=C_(e_.bind(null,l,a,an,dc,fd,i,Nn,Vs,Na,_r,d,2,-0,0),h);break e}e_(l,a,an,dc,fd,i,Nn,Vs,Na,_r,d,0,-0,0)}}break}while(!0);ai(t)}function e_(t,i,a,l,h,d,v,T,R,z,Q,W,B,q){if(t.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:BS},Qy(i),W=jS(),W!==null)){t.cancelPendingCommit=W(o_.bind(null,t,i,d,a,l,h,v,T,R,Q,1,B,q)),Ar(t,d,v,!z);return}o_(t,i,d,a,l,h,v,T,R)}function sS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ar(t,i,a,l){i&=~hd,i&=~Vs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Kt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Gn(t,a,i)}function mc(){return(Ge&6)===0?(hl(0),!1):!0}function yd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Mi=Rs=null,xf(t),ba=null,tl=0,t=De;for(;t!==null;)My(t.alternate,t),t=t.return;De=null}}function Ma(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,SS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),yd(),et=t,De=a=Ni(t.current,null),Le=i,Ke=0,pn=null,_r=!1,Da=rs(t,i),cd=!1,Na=Nn=hd=Vs=vr=ct=0,an=ul=null,fd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Kt(l),d=1<<h;i|=t[h],l&=~d}return qi=i,ku(),a}function t_(t,i){Re=null,K.H=tc,i===Ko||i===Gu?(i=_g(),Ke=3):i===pg?(i=_g(),Ke=4):Ke=i===vy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,De===null&&(ct=1,ac(t,bn(i,t.current)))}function n_(){var t=K.H;return K.H=tc,t===null?tc:t}function i_(){var t=K.A;return K.A=iS,t}function _d(){ct=4,_r||(Le&4194048)!==Le&&Dn.current!==null||(Da=!0),(vr&134217727)===0&&(Vs&134217727)===0||et===null||Ar(et,Le,Nn,!1)}function vd(t,i,a){var l=Ge;Ge|=2;var h=n_(),d=i_();(et!==t||Le!==i)&&(dc=null,Ma(t,i)),i=!1;var v=ct;e:do try{if(Ke!==0&&De!==null){var T=De,R=pn;switch(Ke){case 8:yd(),v=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var z=Ke;if(Ke=0,pn=null,xa(t,T,R,z),a&&Da){v=0;break e}break;default:z=Ke,Ke=0,pn=null,xa(t,T,R,z)}}aS(),v=ct;break}catch(Q){t_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Mi=Rs=null,Ge=l,K.H=h,K.A=d,De===null&&(et=null,Le=0,ku()),v}function aS(){for(;De!==null;)r_(De)}function oS(t,i){var a=Ge;Ge|=2;var l=n_(),h=i_();et!==t||Le!==i?(dc=null,fc=vn()+500,Ma(t,i)):Da=rs(t,i);e:do try{if(Ke!==0&&De!==null){i=De;var d=pn;t:switch(Ke){case 1:Ke=0,pn=null,xa(t,i,d,1);break;case 2:case 9:if(gg(d)){Ke=0,pn=null,s_(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),ai(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:gg(d)?(Ke=0,pn=null,s_(i)):(Ke=0,pn=null,xa(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(!v||B_(v)){Ke=0,pn=null;var R=T.sibling;if(R!==null)De=R;else{var z=T.return;z!==null?(De=z,pc(z)):De=null}break t}}Ke=0,pn=null,xa(t,i,d,5);break;case 6:Ke=0,pn=null,xa(t,i,d,6);break;case 8:yd(),ct=6;break e;default:throw Error(s(462))}}lS();break}catch(Q){t_(t,Q)}while(!0);return Mi=Rs=null,K.H=l,K.A=h,Ge=a,De!==null?0:(et=null,Le=0,ku(),ct)}function lS(){for(;De!==null&&!po();)r_(De)}function r_(t){var i=Oy(t.alternate,t,qi);t.memoizedProps=t.pendingProps,i===null?pc(t):De=i}function s_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=by(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=by(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:xf(i);default:My(a,i),i=De=ag(i,qi),i=Oy(a,i,qi)}t.memoizedProps=t.pendingProps,i===null?pc(t):De=i}function xa(t,i,a,l){Mi=Rs=null,xf(i),ba=null,tl=0;var h=i.return;try{if(WA(t,h,i,a,Le)){ct=1,ac(t,bn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ct=1,ac(t,bn(a,t.current)),De=null;return}i.flags&32768?(qe||l===1?t=!0:Da||(Le&536870912)!==0?t=!1:(_r=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),a_(i,t)):pc(i)}function pc(t){var i=t;do{if((i.flags&32768)!==0){a_(i,_r);return}t=i.return;var a=JA(i.alternate,i,qi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ct===0&&(ct=5)}function a_(t,i){do{var a=eS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ct=6,De=null}function o_(t,i,a,l,h,d,v,T,R){t.cancelPendingCommit=null;do gc();while(qt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=uf,To(t,a,d,v,T,R),t===et&&(De=et=null,Le=0),Oa=i,Tr=t,Va=a,md=d,pd=h,Wy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fS(es,function(){return f_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=se.p,se.p=2,v=Ge,Ge|=4;try{tS(t,i,a)}finally{Ge=v,se.p=h,K.T=l}}qt=1,l_(),u_(),c_()}}function l_(){if(qt===1){qt=0;var t=Tr,i=Oa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=Ge;Ge|=4;try{Fy(i,t);var d=Od,v=$p(t.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Xp(T.ownerDocument.documentElement,T)){if(R!==null&&rf(T)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var W=T.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var q=B.getSelection(),Ee=T.textContent.length,ge=Math.min(R.start,Ee),$e=R.end===void 0?ge:Math.min(R.end,Ee);!q.extend&&ge>$e&&(v=$e,$e=ge,ge=v);var x=Yp(T,ge),N=Yp(T,$e);if(x&&N&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=W.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),ge>$e?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(W=[],q=T;q=q.parentNode;)q.nodeType===1&&W.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Y=W[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Cc=!!Nd,Od=Nd=null}finally{Ge=h,se.p=l,K.T=a}}t.current=i,qt=2}}function u_(){if(qt===2){qt=0;var t=Tr,i=Oa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=Ge;Ge|=4;try{By(t,i.alternate,i)}finally{Ge=h,se.p=l,K.T=a}}qt=3}}function c_(){if(qt===4||qt===3){qt=0,hu();var t=Tr,i=Oa,a=Va,l=Wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Oa=Tr=null,h_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Er=null),Ws(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=se.p,se.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,se.p=h}}(Va&3)!==0&&gc(),ai(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===gd?cl++:(cl=0,gd=t):cl=0,hl(0)}}function h_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Fo(i)))}function gc(t){return l_(),u_(),c_(),f_()}function f_(){if(qt!==5)return!1;var t=Tr,i=md;md=0;var a=Ws(Va),l=K.T,h=se.p;try{se.p=32>a?32:a,K.T=null,a=pd,pd=null;var d=Tr,v=Va;if(qt=0,Oa=Tr=null,Va=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,Xy(d.current),Ky(d,d.current,v,a),Ge=T,hl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{se.p=h,K.T=l,h_(t,i)}}function d_(t,i,a){i=bn(a,i),i=Yf(t.stateNode,i,2),t=hr(t,i,2),t!==null&&(vi(t,2),ai(t))}function We(t,i,a){if(t.tag===3)d_(t,t,a);else for(;i!==null;){if(i.tag===3){d_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Er===null||!Er.has(l))){t=bn(a,t),a=yy(2),l=hr(i,a,2),l!==null&&(_y(a,l,i,t),vi(l,2),ai(l));break}}i=i.return}}function Ed(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new rS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(cd=!0,h.add(a),t=uS.bind(null,t,i,a),i.then(t,t))}function uS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>vn()-dd?(Ge&2)===0&&Ma(t,0):hd|=a,Na===Le&&(Na=0)),ai(t)}function m_(t,i){i===0&&(i=Eo()),t=pa(t,i),t!==null&&(vi(t,i),ai(t))}function cS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),m_(t,a)}function hS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),m_(t,a)}function fS(t,i){return Zr(t,i)}var yc=null,Pa=null,Td=!1,_c=!1,Ad=!1,Ms=0;function ai(t){t!==Pa&&t.next===null&&(Pa===null?yc=Pa=t:Pa=Pa.next=t),_c=!0,Td||(Td=!0,mS())}function hl(t,i){if(!Ad&&_c){Ad=!0;do for(var a=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Kt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,__(l,d))}else d=Le,d=$s(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rs(l,d)||(a=!0,__(l,d));l=l.next}while(a);Ad=!1}}function dS(){p_()}function p_(){_c=Td=!1;var t=0;Ms!==0&&(AS()&&(t=Ms),Ms=0);for(var i=vn(),a=null,l=yc;l!==null;){var h=l.next,d=g_(l,i);d===0?(l.next=null,a===null?yc=h:a.next=h,h===null&&(Pa=a)):(a=l,(t!==0||(d&3)!==0)&&(_c=!0)),l=h}hl(t)}function g_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Kt(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=_o(T,i)):R<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Le,a=$s(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||rs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Jr(l),Ws(a)){case 2:case 8:a=Ys;break;case 32:a=es;break;case 268435456:a=Xs;break;default:a=es}return l=y_.bind(null,t),a=Zr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Jr(l),t.callbackPriority=2,t.callbackNode=null,2}function y_(t,i){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gc()&&t.callbackNode!==a)return null;var l=Le;return l=$s(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jy(t,l,i),g_(t,vn()),t.callbackNode!=null&&t.callbackNode===a?y_.bind(null,t):null)}function __(t,i){if(gc())return null;Jy(t,i,!0)}function mS(){wS(function(){(Ge&6)!==0?Zr(go,dS):p_()})}function Sd(){return Ms===0&&(Ms=vo()),Ms}function v_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ia(""+t)}function E_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function pS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=v_((h[pt]||null).action),v=l.submitter;v&&(i=(i=v[pt]||null)?v_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ra("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var R=v?E_(h,v):new FormData(h);Hf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?E_(h,v):new FormData(h),Hf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var wd=0;wd<lf.length;wd++){var bd=lf[wd],gS=bd.toLowerCase(),yS=bd[0].toUpperCase()+bd.slice(1);Ln(gS,"on"+yS)}Ln(Jp,"onAnimationEnd"),Ln(eg,"onAnimationIteration"),Ln(tg,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(xA,"onTransitionRun"),Ln(PA,"onTransitionStart"),Ln(kA,"onTransitionCancel"),Ln(ng,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function T_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){sc(Q)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,z=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){sc(Q)}h.currentTarget=null,d=R}}}}function Ne(t,i){var a=i[So];a===void 0&&(a=i[So]=new Set);var l=t+"__bubble";a.has(l)||(A_(i,t,2,!1),a.add(l))}function Rd(t,i,a){var l=0;i&&(l|=4),A_(a,t,l,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[vc]){t[vc]=!0,wo.forEach(function(a){a!=="selectionchange"&&(_S.has(a)||Rd(a,!1,t),Rd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vc]||(i[vc]=!0,Rd("selectionchange",!1,i))}}function A_(t,i,a,l){switch(K_(i)){case 2:var h=GS;break;case 8:h=KS;break;default:h=qd}a=h.bind(null,i,a,t),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Cd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Tu(function(){var z=d,Q=An(a),W=[];e:{var B=ig.get(t);if(B!==void 0){var q=ra,Ee=t;switch(t){case"keypress":if(Wn(a)===0)break e;case"keydown":case"keyup":q=ca;break;case"focusin":Ee="focus",q=oa;break;case"focusout":Ee="blur",q=oa;break;case"beforeblur":case"afterblur":q=oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Du;break;case Jp:case eg:case tg:q=la;break;case ng:q=Ou;break;case"scroll":case"scrollend":q=Au;break;case"wheel":q=ha;break;case"copy":case"cut":case"paste":q=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ko;break;case"toggle":case"beforetoggle":q=Mu}var ge=(i&4)!==0,$e=!ge&&(t==="scroll"||t==="scrollend"),x=ge?B!==null?B+"Capture":null:B;ge=[];for(var N=z,L;N!==null;){var Y=N;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||x===null||(Y=fs(N,x),Y!=null&&ge.push(dl(N,Y,L))),$e)break;N=N.return}0<ge.length&&(B=new q(B,Ee,null,a,Q),W.push({event:B,listeners:ge}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==wi&&(Ee=a.relatedTarget||a.fromElement)&&(Ei(Ee)||Ee[En]))break e;if((q||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Ee=a.relatedTarget||a.toElement,q=z,Ee=Ee?Ei(Ee):null,Ee!==null&&($e=u(Ee),ge=Ee.tag,Ee!==$e||ge!==5&&ge!==27&&ge!==6)&&(Ee=null)):(q=null,Ee=z),q!==Ee)){if(ge=wn,Y="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ge=ko,Y="onPointerLeave",x="onPointerEnter",N="pointer"),$e=q==null?B:Qn(q),L=Ee==null?B:Qn(Ee),B=new ge(Y,N+"leave",q,a,Q),B.target=$e,B.relatedTarget=L,Y=null,Ei(Q)===z&&(ge=new ge(x,N+"enter",Ee,a,Q),ge.target=L,ge.relatedTarget=$e,Y=ge),$e=Y,q&&Ee)t:{for(ge=q,x=Ee,N=0,L=ge;L;L=ka(L))N++;for(L=0,Y=x;Y;Y=ka(Y))L++;for(;0<N-L;)ge=ka(ge),N--;for(;0<L-N;)x=ka(x),L--;for(;N--;){if(ge===x||x!==null&&ge===x.alternate)break t;ge=ka(ge),x=ka(x)}ge=null}else ge=null;q!==null&&S_(W,B,q,ge,!1),Ee!==null&&$e!==null&&S_(W,$e,Ee,ge,!0)}}e:{if(B=z?Qn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ce=jp;else if(wt(B))if(Hp)ce=OA;else{ce=DA;var Ce=CA}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Do(z.elementType)&&(ce=jp):ce=NA;if(ce&&(ce=ce(t,z))){Di(W,ce,a,Q);break e}Ce&&Ce(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ar(B,"number",B.value)}switch(Ce=z?Qn(z):window,t){case"focusin":(wt(Ce)||Ce.contentEditable==="true")&&(fa=Ce,sf=z,zo=null);break;case"focusout":zo=sf=fa=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Wp(W,a,Q);break;case"selectionchange":if(MA)break;case"keydown":case"keyup":Wp(W,a,Q)}var he;if(ei)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Pe?H(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(_&&a.locale!=="ko"&&(Pe||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Pe&&(he=Oo()):($n=Q,or="value"in $n?$n.value:$n.textContent,Pe=!0)),Ce=Ec(z,ye),0<Ce.length&&(ye=new xo(ye,t,null,a,Q),W.push({event:ye,listeners:Ce}),he?ye.data=he:(he=ie(a),he!==null&&(ye.data=he)))),(he=p?St(t,a):ke(t,a))&&(ye=Ec(z,"onBeforeInput"),0<ye.length&&(Ce=new xo("onBeforeInput","beforeinput",null,a,Q),W.push({event:Ce,listeners:ye}),Ce.data=he)),pS(W,t,z,a,Q)}T_(W,i)})}function dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ec(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(t,a),h!=null&&l.unshift(dl(t,h,d)),h=fs(t,i),h!=null&&l.push(dl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function S_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=fs(a,d),z!=null&&v.unshift(dl(a,z,R))):h||(z=fs(a,d),z!=null&&v.push(dl(a,z,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var vS=/\r\n?/g,ES=/\u0000|\uFFFD/g;function w_(t){return(typeof t=="string"?t:""+t).replace(vS,`
`).replace(ES,"")}function b_(t,i){return i=w_(i),w_(t)===i}function Tc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":Co(t,l,d);break;case"data":if(i!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),sr(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wh.get(a)||a,sr(t,a,l))}}function Dd(t,i,a,l,h,d){switch(a){case"style":Co(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):sr(t,a,l)}}}function jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,v,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=v=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Xe(t,i,l,Q,a,null)}}us(t,d,T,R,z,v,h,!1),na(t);return;case"select":Ne("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Si(t,!!l,i,!1):a!=null&&Si(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,v,T,a,null)}cs(t,l,h,d),na(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,R,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<fl.length;l++)Ne(fl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,z,l,a,null)}return;default:if(Do(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Dd(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function TS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,z=null,Q=null;for(q in a){var W=a[q];if(a.hasOwnProperty(q)&&W!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=W;default:l.hasOwnProperty(q)||Xe(t,i,q,null,l,W)}}for(var B in l){var q=l[B];if(W=a[B],l.hasOwnProperty(B)&&(q!=null||W!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":Q=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==W&&Xe(t,i,B,q,l,W)}}cn(t,v,T,R,z,Q,d,h);return;case"select":q=v=T=B=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Xe(t,i,h,d,l,R)}i=T,a=v,l=q,B!=null?Si(t,!!a,B,!1):!!l!=!!a&&(i!=null?Si(t,!!a,i,!0):Si(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Qe(t,B,q);return;case"option":for(var Ee in a)if(B=a[Ee],a.hasOwnProperty(Ee)&&B!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Xe(t,i,Ee,null,l,B)}for(R in l)if(B=l[R],q=a[R],l.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xe(t,i,R,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)B=a[ge],a.hasOwnProperty(ge)&&B!=null&&!l.hasOwnProperty(ge)&&Xe(t,i,ge,null,l,B);for(z in l)if(B=l[z],q=a[z],l.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Xe(t,i,z,B,l,q)}return;default:if(Do(i)){for(var $e in a)B=a[$e],a.hasOwnProperty($e)&&B!==void 0&&!l.hasOwnProperty($e)&&Dd(t,i,$e,void 0,l,B);for(Q in l)B=l[Q],q=a[Q],!l.hasOwnProperty(Q)||B===q||B===void 0&&q===void 0||Dd(t,i,Q,B,l,q);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Xe(t,i,x,null,l,B);for(W in l)B=l[W],q=a[W],!l.hasOwnProperty(W)||B===q||B==null&&q==null||Xe(t,i,W,B,l,q)}var Nd=null,Od=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function R_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Vd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function AS(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,SS=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,wS=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(bS)}:C_;function bS(t){setTimeout(function(){throw t})}function Sr(t){return t==="head"}function N_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&ml(v.documentElement),a&2&&ml(v.body),a&4)for(a=v.head,ml(a),v=a.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[ss]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Al(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Al(i)}function xd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function RS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ss])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function IS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function CS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var kd=null;function O_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function V_(t,i,a){switch(i=Ac(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);rr(t)}var On=new Map,M_=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=se.d;se.d={f:DS,r:NS,D:OS,C:VS,L:MS,m:xS,X:kS,S:PS,M:LS};function DS(){var t=ji.f(),i=mc();return t||i}function NS(t){var i=Kn(t);i!==null&&i.tag===5&&i.type==="form"?Jg(i):ji.r(t)}var La=typeof document>"u"?null:document;function x_(t,i,a){var l=La;if(l&&typeof i=="string"&&i){var h=gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jt(i,"link",t),ht(i),l.head.appendChild(i)))}}function OS(t){ji.D(t),x_("dns-prefetch",t,null)}function VS(t,i){ji.C(t,i),x_("preconnect",t,i)}function MS(t,i,a){ji.L(t,i,a);var l=La;if(l&&t&&i){var h='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gt(a.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(i){case"style":d=Ua(t);break;case"script":d=za(t)}On.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),On.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(pl(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),jt(i,"link",t),ht(i),l.head.appendChild(i)))}}function xS(t,i){ji.m(t,i);var a=La;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=za(t)}if(!On.has(d)&&(t=E({rel:"modulepreload",href:t},i),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),jt(l,"link",t),ht(l),a.head.appendChild(l)}}}function PS(t,i,a){ji.S(t,i,a);var l=La;if(l&&t){var h=Jt(l).hoistableStyles,d=Ua(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(pl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=On.get(d))&&Ld(t,a);var R=v=l.createElement("link");ht(R),jt(R,"link",t),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function kS(t,i){ji.X(t,i);var a=La;if(a&&t){var l=Jt(a).hoistableScripts,h=za(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=E({src:t,async:!0},i),(i=On.get(h))&&Ud(t,i),d=a.createElement("script"),ht(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function LS(t,i){ji.M(t,i);var a=La;if(a&&t){var l=Jt(a).hoistableScripts,h=za(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=On.get(h))&&Ud(t,i),d=a.createElement("script"),ht(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function P_(t,i,a,l){var h=(h=Te.current)?Sc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ua(a.href),a=Jt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ua(a.href);var d=Jt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(pl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||US(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=za(a),a=Jt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ua(t){return'href="'+gt(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function US(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jt(i,"link",a),ht(i),t.head.appendChild(i))}function za(t){return'[src="'+gt(t)+'"]'}function gl(t){return"script[async]"+t}function L_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),jt(l,"style",h),wc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ua(a.href);var d=t.querySelector(pl(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=k_(a),(h=On.get(h))&&Ld(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),jt(d,"link",l),i.state.loading|=4,wc(d,a.precedence,t),i.instance=d;case"script":return d=za(a.src),(h=t.querySelector(gl(d)))?(i.instance=h,ht(h),h):(l=a,(h=On.get(d))&&(l=E({},a),Ud(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,a.precedence,t));return i.instance}function wc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ld(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var bc=null;function U_(t,i,a){if(bc===null){var l=new Map,h=bc=new Map;h.set(a,l)}else h=bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ss]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function z_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function zS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function B_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var yl=null;function BS(){}function qS(t,i,a){if(yl===null)throw Error(s(475));var l=yl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ua(a.href),d=t.querySelector(pl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Rc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,a=k_(a),(h=On.get(h))&&Ld(a,h),d=d.createElement("link"),ht(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Rc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function jS(){if(yl===null)throw Error(s(475));var t=yl;return t.stylesheets&&t.count===0&&zd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function zd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,i.forEach(HS,t),Ic=null,Rc.call(t))}function HS(t,i){if(!(i.state.loading&4)){var a=Ic.get(t);if(a)var l=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var _l={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function FS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function q_(t,i,a,l,h,d,v,T,R,z,Q,W){return t=new FS(t,i,a,v,T,R,z,W),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),t.current=d,d.stateNode=t,i=Ef(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),t}function j_(t){return t?(t=ga,t):ga}function H_(t,i,a,l,h,d){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=cr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=hr(t,l,i),a!==null&&(yn(a,t,i),Yo(a,t,i))}function F_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Bd(t,i){F_(t,i),(t=t.alternate)&&F_(t,i)}function G_(t){if(t.tag===13){var i=pa(t,67108864);i!==null&&yn(i,t,67108864),Bd(t,67108864)}}var Cc=!0;function GS(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=2,qd(t,i,a,l)}finally{se.p=d,K.T=h}}function KS(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=8,qd(t,i,a,l)}finally{se.p=d,K.T=h}}function qd(t,i,a,l){if(Cc){var h=jd(l);if(h===null)Cd(t,i,l,Dc,a),Q_(t,l);else if(YS(h,t,i,a,l))l.stopPropagation();else if(Q_(t,l),i&4&&-1<QS.indexOf(t)){for(;h!==null;){var d=Kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-Kt(v);T.entanglements[1]|=R,v&=~R}ai(d),(Ge&6)===0&&(fc=vn()+500,hl(0))}}break;case 13:T=pa(d,2),T!==null&&yn(T,d,2),mc(),Bd(d,2)}if(d=jd(l),d===null&&Cd(t,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Cd(t,i,l,null,a)}}function jd(t){return t=An(t),Hd(t)}var Dc=null;function Hd(t){if(Dc=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function K_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gh()){case go:return 2;case Ys:return 8;case es:case Kh:return 32;case Xs:return 268435456;default:return 32}default:return 32}}var Fd=!1,wr=null,br=null,Rr=null,vl=new Map,El=new Map,Ir=[],QS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(t,i){switch(t){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(i.pointerId)}}function Tl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Kn(i),i!==null&&G_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function YS(t,i,a,l,h){switch(i){case"focusin":return wr=Tl(wr,t,i,a,l,h),!0;case"dragenter":return br=Tl(br,t,i,a,l,h),!0;case"mouseover":return Rr=Tl(Rr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,Tl(vl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,El.set(d,Tl(El.get(d)||null,t,i,a,l,h)),!0}return!1}function Y_(t){var i=Ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,mu(t.priority,function(){if(a.tag===13){var l=gn();l=tr(l);var h=pa(a,l);h!==null&&yn(h,a,l),Bd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wi=l,a.target.dispatchEvent(l),wi=null}else return i=Kn(a),i!==null&&G_(i),t.blockedOn=a,!1;i.shift()}return!0}function X_(t,i,a){Nc(t)&&a.delete(i)}function XS(){Fd=!1,wr!==null&&Nc(wr)&&(wr=null),br!==null&&Nc(br)&&(br=null),Rr!==null&&Nc(Rr)&&(Rr=null),vl.forEach(X_),El.forEach(X_)}function Oc(t,i){t.blockedOn===i&&(t.blockedOn=null,Fd||(Fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,XS)))}var Vc=null;function $_(t){Vc!==t&&(Vc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var d=Kn(a);d!==null&&(t.splice(i,3),i-=3,Hf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Al(t){function i(R){return Oc(R,t)}wr!==null&&Oc(wr,t),br!==null&&Oc(br,t),Rr!==null&&Oc(Rr,t),vl.forEach(i),El.forEach(i);for(var a=0;a<Ir.length;a++){var l=Ir[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ir.length&&(a=Ir[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&Ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pt]||null;if(typeof d=="function")v||$_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pt]||null)T=v.formAction;else if(Hd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),$_(a)}}}function Gd(t){this._internalRoot=t}Mc.prototype.render=Gd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();H_(a,l,t,i,null,null)},Mc.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;H_(t.current,2,null,t,null,null),mc(),i[En]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var i=nr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ir.length&&i!==0&&i<Ir[a].priority;a++);Ir.splice(a,0,t),a===0&&Y_(t)}};var W_=e.version;if(W_!=="19.1.0")throw Error(s(527,W_,"19.1.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var $S={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{lt=xc.inject($S),Fe=xc}catch{}}return wl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=dy,d=my,v=py,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=q_(t,1,!1,null,null,a,l,h,d,v,T,null),t[En]=i.current,Id(t),new Gd(i)},wl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=dy,v=my,T=py,R=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=q_(t,1,!0,i,a??null,l,h,d,v,T,R,z),i.context=j_(null),a=i.current,l=gn(),l=tr(l),h=cr(l),h.callback=null,hr(a,h,l),a=l,i.current.lanes=a,vi(i,a),ai(i),t[En]=i.current,Id(t),new Mc(i)},wl.version="19.1.0",wl}var ov;function a1(){if(ov)return Yd.exports;ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yd.exports=s1(),Yd.exports}var o1=a1();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lv="popstate";function l1(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return fm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ul(o)}return c1(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u1(){return Math.random().toString(36).substring(2,10)}function uv(r,e){return{usr:r.state,key:r.key,idx:e}}function fm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ro(e):e,state:n,key:e&&e.key||s||u1()}}function Ul({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ro(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function c1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let F=E(),J=F==null?null:F-g;g=F,y&&y({action:m,location:$.location,delta:J})}function w(F,J){m="PUSH";let oe=fm($.location,F,J);g=E()+1;let re=uv(oe,g),we=$.createHref(oe);try{f.pushState(re,"",we)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(we)}u&&y&&y({action:m,location:$.location,delta:1})}function U(F,J){m="REPLACE";let oe=fm($.location,F,J);g=E();let re=uv(oe,g),we=$.createHref(oe);f.replaceState(re,"",we),u&&y&&y({action:m,location:$.location,delta:0})}function j(F){return h1(F)}let $={get action(){return m},get location(){return r(o,f)},listen(F){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(lv,S),y=F,()=>{o.removeEventListener(lv,S),y=null}},createHref(F){return e(o,F)},createURL:j,encodeLocation(F){let J=j(F);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:U,go(F){return f.go(F)}};return $}function h1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ul(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function HE(r,e,n="/"){return f1(r,e,n,!1)}function f1(r,e,n,s){let o=typeof e=="string"?ro(e):e,u=Qi(o.pathname||"/",n);if(u==null)return null;let f=FE(r);d1(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=w1(u);m=A1(f[y],g,s)}return m}function FE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(st(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let g=Gi([s,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),FE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:E1(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of GE(u.path))o(u,f,m)}),e}function GE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=GE(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function d1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:T1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var m1=/^:[\w-]+$/,p1=3,g1=2,y1=1,_1=10,v1=-2,cv=r=>r==="*";function E1(r,e){let n=r.split("/"),s=n.length;return n.some(cv)&&(s+=v1),e&&(s+=g1),n.filter(o=>!cv(o)).reduce((o,u)=>o+(m1.test(u)?p1:u===""?y1:_1),s)}function T1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function A1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=ih({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),w=y.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=ih({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Gi([u,S.pathname]),pathnameBase:C1(Gi([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=Gi([u,S.pathnameBase]))}return f}function ih(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=S1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},w)=>{if(E==="*"){let j=m[w]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const U=m[w];return S&&!U?g[E]=void 0:g[E]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function S1(r,e=!1,n=!0){mi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function w1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Qi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function b1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ro(r):r;return{pathname:n?n.startsWith("/")?n:R1(n,e):e,search:D1(s),hash:N1(o)}}function R1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Zd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function KE(r){let e=I1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function QE(r,e,n,s=!1){let o;typeof r=="string"?o=ro(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Zd("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Zd("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Zd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let y=b1(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var Gi=r=>r.join("/").replace(/\/\/+/g,"/"),C1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),D1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,N1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function O1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var YE=["POST","PUT","PATCH","DELETE"];new Set(YE);var V1=["GET",...YE];new Set(V1);var so=G.createContext(null);so.displayName="DataRouter";var wh=G.createContext(null);wh.displayName="DataRouterState";G.createContext(!1);var XE=G.createContext({isTransitioning:!1});XE.displayName="ViewTransition";var M1=G.createContext(new Map);M1.displayName="Fetchers";var x1=G.createContext(null);x1.displayName="Await";var gi=G.createContext(null);gi.displayName="Navigation";var Xl=G.createContext(null);Xl.displayName="Location";var Zi=G.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var Hm=G.createContext(null);Hm.displayName="RouteError";function P1(r,{relative:e}={}){st($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(gi),{hash:o,pathname:u,search:f}=Wl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Gi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function $l(){return G.useContext(Xl)!=null}function Hs(){return st($l(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Xl).location}var $E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(r){G.useContext(gi).static||G.useLayoutEffect(r)}function k1(){let{isDataRoute:r}=G.useContext(Zi);return r?X1():L1()}function L1(){st($l(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(so),{basename:e,navigator:n}=G.useContext(gi),{matches:s}=G.useContext(Zi),{pathname:o}=Hs(),u=JSON.stringify(KE(s)),f=G.useRef(!1);return WE(()=>{f.current=!0}),G.useCallback((y,g={})=>{if(mi(f.current,$E),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=QE(y,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Gi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}G.createContext(null);function Wl(r,{relative:e}={}){let{matches:n}=G.useContext(Zi),{pathname:s}=Hs(),o=JSON.stringify(KE(n));return G.useMemo(()=>QE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function U1(r,e){return ZE(r,e)}function ZE(r,e,n,s){st($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(gi),{matches:u}=G.useContext(Zi),f=u[u.length-1],m=f?f.params:{},y=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let J=E&&E.path||"";JE(y,!E||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let S=Hs(),w;if(e){let J=typeof e=="string"?ro(e):e;st(g==="/"||J.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${J.pathname}" was given in the \`location\` prop.`),w=J}else w=S;let U=w.pathname||"/",j=U;if(g!=="/"){let J=g.replace(/^\//,"").split("/");j="/"+U.replace(/^\//,"").split("/").slice(J.length).join("/")}let $=HE(r,{pathname:j});mi(E||$!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),mi($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=H1($&&$.map(J=>Object.assign({},J,{params:Object.assign({},m,J.params),pathname:Gi([g,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?g:Gi([g,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),u,n,s);return e&&F?G.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},F):F}function z1(){let r=Y1(),e=O1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var B1=G.createElement(z1,null),q1=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(Zi.Provider,{value:this.props.routeContext},G.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j1({routeContext:r,match:e,children:n}){let s=G.useContext(so);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Zi.Provider,{value:r},n)}function H1(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let y=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);st(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:E,errors:S}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,g,E)=>{let S,w=!1,U=null,j=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,U=g.route.errorElement||B1,f&&(m<0&&E===0?(JE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):m===E&&(w=!0,j=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),F=()=>{let J;return S?J=U:w?J=j:g.route.Component?J=G.createElement(g.route.Component,null):g.route.element?J=g.route.element:J=y,G.createElement(j1,{match:g,routeContext:{outlet:y,matches:$,isDataRoute:n!=null},children:J})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(q1,{location:n.location,revalidation:n.revalidation,component:U,error:S,children:F(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):F()},null)}function Fm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F1(r){let e=G.useContext(so);return st(e,Fm(r)),e}function G1(r){let e=G.useContext(wh);return st(e,Fm(r)),e}function K1(r){let e=G.useContext(Zi);return st(e,Fm(r)),e}function Gm(r){let e=K1(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Q1(){return Gm("useRouteId")}function Y1(){let r=G.useContext(Hm),e=G1("useRouteError"),n=Gm("useRouteError");return r!==void 0?r:e.errors?.[n]}function X1(){let{router:r}=F1("useNavigate"),e=Gm("useNavigate"),n=G.useRef(!1);return WE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{mi(n.current,$E),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var hv={};function JE(r,e,n){!e&&!hv[r]&&(hv[r]=!0,mi(!1,n))}G.memo($1);function $1({routes:r,future:e,state:n}){return ZE(r,void 0,n,e)}function Fc(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ro(n));let{pathname:y="/",search:g="",hash:E="",state:S=null,key:w="default"}=n,U=G.useMemo(()=>{let j=Qi(y,f);return j==null?null:{location:{pathname:j,search:g,hash:E,state:S,key:w},navigationType:s}},[f,y,g,E,S,w,s]);return mi(U!=null,`<Router basename="${f}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:G.createElement(gi.Provider,{value:m},G.createElement(Xl.Provider,{children:e,value:U}))}function Z1({children:r,location:e}){return U1(dm(r),e)}function dm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,dm(s.props.children,u));return}st(s.type===Fc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=dm(s.props.children,u)),n.push(f)}),n}var Gc="get",Kc="application/x-www-form-urlencoded";function bh(r){return r!=null&&typeof r.tagName=="string"}function J1(r){return bh(r)&&r.tagName.toLowerCase()==="button"}function ew(r){return bh(r)&&r.tagName.toLowerCase()==="form"}function tw(r){return bh(r)&&r.tagName.toLowerCase()==="input"}function nw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iw(r,e){return r.button===0&&(!e||e==="_self")&&!nw(r)}var Pc=null;function rw(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jd(r){return r!=null&&!sw.has(r)?(mi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):r}function aw(r,e){let n,s,o,u,f;if(ew(r)){let m=r.getAttribute("action");s=m?Qi(m,e):null,n=r.getAttribute("method")||Gc,o=Jd(r.getAttribute("enctype"))||Kc,u=new FormData(r)}else if(J1(r)||tw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?Qi(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Gc,o=Jd(r.getAttribute("formenctype"))||Jd(m.getAttribute("enctype"))||Kc,u=new FormData(m,r),!rw()){let{name:g,type:E,value:S}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gc,s=null,o=Kc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Km(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ow(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Qi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function lw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function cw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await lw(u,n);return f.links?f.links():[]}return[]}));return mw(s.flat(1).filter(uw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fv(r,e,n,s,o,u){let f=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,m=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,g)=>f(y,g)||m(y,g)):u==="data"?e.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function hw(r,e,{includeHydrateFallback:n}={}){return fw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fw(r){return[...new Set(r)]}function dw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function mw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(dw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function eT(){let r=G.useContext(so);return Km(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pw(){let r=G.useContext(wh);return Km(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Qm=G.createContext(void 0);Qm.displayName="FrameworkContext";function tT(){let r=G.useContext(Qm);return Km(r,"You must render this element inside a <HydratedRouter> element"),r}function gw(r,e){let n=G.useContext(Qm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=J=>{J.forEach(oe=>{f(oe.isIntersecting)})},F=new IntersectionObserver($,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[r]),G.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let U=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:bl(m,U),onBlur:bl(y,j),onMouseEnter:bl(g,U),onMouseLeave:bl(E,j),onTouchStart:bl(S,U)}]:[!1,w,{}]}function bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function yw({page:r,...e}){let{router:n}=eT(),s=G.useMemo(()=>HE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(vw,{page:r,matches:s,...e}):null}function _w(r){let{manifest:e,routeModules:n}=tT(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return cw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function vw({page:r,matches:e,...n}){let s=Hs(),{manifest:o,routeModules:u}=tT(),{basename:f}=eT(),{loaderData:m,matches:y}=pw(),g=G.useMemo(()=>fv(r,e,y,o,s,"data"),[r,e,y,o,s]),E=G.useMemo(()=>fv(r,e,y,o,s,"assets"),[r,e,y,o,s]),S=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,$=!1;if(e.forEach(J=>{let oe=o.routes[J.route.id];!oe||!oe.hasLoader||(!g.some(re=>re.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||oe.hasClientLoader?$=!0:j.add(J.route.id))}),j.size===0)return[];let F=ow(r,f,"data");return $&&j.size>0&&F.searchParams.set("_routes",e.filter(J=>j.has(J.route.id)).map(J=>J.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,r,u]),w=G.useMemo(()=>hw(E,o),[E,o]),U=_w(E);return G.createElement(G.Fragment,null,S.map(j=>G.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>G.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),U.map(({key:j,link:$})=>G.createElement("link",{key:j,...$})))}function Ew(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nT&&(window.__reactRouterVersion="7.7.1")}catch{}function Tw({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=l1({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(y=>{G.startTransition(()=>f(y))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(W1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var iT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ol=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:g,preventScrollReset:E,viewTransition:S,...w},U){let{basename:j}=G.useContext(gi),$=typeof g=="string"&&iT.test(g),F,J=!1;if(typeof g=="string"&&$&&(F=g,nT))try{let I=new URL(window.location.href),O=g.startsWith("//")?new URL(I.protocol+g):new URL(g),M=Qi(O.pathname,j);O.origin===I.origin&&M!=null?g=M+O.search+O.hash:J=!0}catch{mi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let oe=P1(g,{relative:o}),[re,we,fe]=gw(s,w),xe=bw(g,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:S});function V(I){e&&e(I),I.defaultPrevented||xe(I)}let b=G.createElement("a",{...w,...fe,href:F||oe,onClick:J||u?e:V,ref:Ew(U,we),target:y,"data-discover":!$&&n==="render"?"true":void 0});return re&&!$?G.createElement(G.Fragment,null,b,G.createElement(yw,{page:oe})):b});Ol.displayName="Link";var Aw=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...g},E){let S=Wl(f,{relative:g.relative}),w=Hs(),U=G.useContext(wh),{navigator:j,basename:$}=G.useContext(gi),F=U!=null&&Nw(S)&&m===!0,J=j.encodeLocation?j.encodeLocation(S).pathname:S.pathname,oe=w.pathname,re=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(oe=oe.toLowerCase(),re=re?re.toLowerCase():null,J=J.toLowerCase()),re&&$&&(re=Qi(re,$)||re);const we=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let fe=oe===J||!o&&oe.startsWith(J)&&oe.charAt(we)==="/",xe=re!=null&&(re===J||!o&&re.startsWith(J)&&re.charAt(J.length)==="/"),V={isActive:fe,isPending:xe,isTransitioning:F},b=fe?e:void 0,I;typeof s=="function"?I=s(V):I=[s,fe?"active":null,xe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(V):u;return G.createElement(Ol,{...g,"aria-current":b,className:I,ref:E,style:O,to:f,viewTransition:m},typeof y=="function"?y(V):y)});Aw.displayName="NavLink";var Sw=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Gc,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:S,...w},U)=>{let j=Cw(),$=Dw(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&iT.test(m),oe=re=>{if(y&&y(re),re.defaultPrevented)return;re.preventDefault();let we=re.nativeEvent.submitter,fe=we?.getAttribute("formmethod")||f;j(we||re.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return G.createElement("form",{ref:U,method:F,action:$,onSubmit:s?y:oe,...w,"data-discover":!J&&r==="render"?"true":void 0})});Sw.displayName="Form";function ww(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(r){let e=G.useContext(so);return st(e,ww(r)),e}function bw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=k1(),y=Hs(),g=Wl(r,{relative:u});return G.useCallback(E=>{if(iw(E,e)){E.preventDefault();let S=n!==void 0?n:Ul(y)===Ul(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,g,n,s,e,r,o,u,f])}var Rw=0,Iw=()=>`__${String(++Rw)}__`;function Cw(){let{router:r}=rT("useSubmit"),{basename:e}=G.useContext(gi),n=Q1();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:g}=aw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Iw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Dw(r,{relative:e}={}){let{basename:n}=G.useContext(gi),s=G.useContext(Zi);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Wl(r||".",{relative:e})},f=Hs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gi([n,u.pathname])),Ul(u)}function Nw(r,{relative:e}={}){let n=G.useContext(XE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rT("useViewTransitionState"),o=Wl(r,{relative:e});if(!n.isTransitioning)return!1;let u=Qi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Qi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ih(o.pathname,f)!=null||ih(o.pathname,u)!=null}const Ow=()=>{};var dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Vw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,U=g&63;y||(U=64,f||(w=64)),s.push(n[E],n[S],n[w],n[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(sT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Vw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new Mw;const w=u<<2|m>>4;if(s.push(w),g!==64){const U=m<<4&240|g>>2;if(s.push(U),S!==64){const j=g<<6&192|S;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Mw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xw=function(r){const e=sT(r);return aT.encodeByteArray(e,!0)},rh=function(r){return xw(r).replace(/\./g,"")},oT=function(r){try{return aT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=()=>Pw().__FIREBASE_DEFAULTS__,Lw=()=>{if(typeof process>"u"||typeof dv>"u")return;const r=dv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Uw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&oT(r[1]);return e&&JSON.parse(e)},Rh=()=>{try{return Ow()||kw()||Lw()||Uw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lT=r=>Rh()?.emulatorHosts?.[r],zw=r=>{const e=lT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},uT=()=>Rh()?.config,cT=r=>Rh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[rh(JSON.stringify(n)),rh(JSON.stringify(f)),""].join(".")}const Vl={};function jw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?r.emulator.push(e):r.prod.push(e);return r}function Hw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let mv=!1;function fT(r,e){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Vl[r]===e||Vl[r]||mv)return;Vl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=jw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,U){w.setAttribute("width","24"),w.setAttribute("id",U),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{mv=!0,f()},w}function E(w,U){w.setAttribute("id",U),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Hw(s),U=n("text"),j=document.getElementById(U)||document.createElement("span"),$=n("learnmore"),F=document.getElementById($)||document.createElement("a"),J=n("preprendIcon"),oe=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(F,$);const we=g();y(oe,J),re.append(oe,j,F,we),document.body.appendChild(re)}u?(j.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Gw(){const r=Rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Yw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xw(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $w(){return!Gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ww(){try{return typeof indexedDB=="object"}catch{return!1}}function Zw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="FirebaseError";class Ji extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Jw,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?eb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ji(o,m,s)}}function eb(r,e){return r.replace(tb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const tb=/\{\$([^}]+)}/g;function nb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ks(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(pv(u)&&pv(f)){if(!ks(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function pv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Rl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Il(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function ib(r,e){const n=new rb(r,e);return n.subscribe.bind(n)}class rb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");sb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(r){return r&&r._delegate?r._delegate:r}class Ls{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Bw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lb(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ob(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ob(r){return r===xs?void 0:r}function lb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ab(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const cb={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},hb=Oe.INFO,fb={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},db=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=fb[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=hb,this._logHandler=db,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const mb=(r,e)=>e.some(n=>r instanceof n);let gv,yv;function pb(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gb(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dT=new WeakMap,mm=new WeakMap,mT=new WeakMap,tm=new WeakMap,Xm=new WeakMap;function yb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Pr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&dT.set(n,r)}).catch(()=>{}),Xm.set(e,r),e}function _b(r){if(mm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});mm.set(r,e)}let pm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return mm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||mT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vb(r){pm=r(pm)}function Eb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(nm(this),e,...n);return mT.set(s,e.sort?e.sort():[e]),Pr(s)}:gb().includes(r)?function(...e){return r.apply(nm(this),e),Pr(dT.get(this))}:function(...e){return Pr(r.apply(nm(this),e))}}function Tb(r){return typeof r=="function"?Eb(r):(r instanceof IDBTransaction&&_b(r),mb(r,pb())?new Proxy(r,pm):r)}function Pr(r){if(r instanceof IDBRequest)return yb(r);if(tm.has(r))return tm.get(r);const e=Tb(r);return e!==r&&(tm.set(r,e),Xm.set(e,r)),e}const nm=r=>Xm.get(r);function Ab(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Pr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Pr(f.result),y.oldVersion,y.newVersion,Pr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Sb=["get","getKey","getAll","getAllKeys","count"],wb=["put","add","delete","clear"],im=new Map;function _v(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=wb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Sb.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return im.set(e,u),u}vb(r=>({...r,get:(e,n,s)=>_v(e,n)||r.get(e,n,s),has:(e,n)=>!!_v(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Rb(r){return r.getComponent()?.type==="VERSION"}const gm="@firebase/app",vv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Ym("@firebase/app"),Ib="@firebase/app-compat",Cb="@firebase/analytics-compat",Db="@firebase/analytics",Nb="@firebase/app-check-compat",Ob="@firebase/app-check",Vb="@firebase/auth",Mb="@firebase/auth-compat",xb="@firebase/database",Pb="@firebase/data-connect",kb="@firebase/database-compat",Lb="@firebase/functions",Ub="@firebase/functions-compat",zb="@firebase/installations",Bb="@firebase/installations-compat",qb="@firebase/messaging",jb="@firebase/messaging-compat",Hb="@firebase/performance",Fb="@firebase/performance-compat",Gb="@firebase/remote-config",Kb="@firebase/remote-config-compat",Qb="@firebase/storage",Yb="@firebase/storage-compat",Xb="@firebase/firestore",$b="@firebase/ai",Wb="@firebase/firestore-compat",Zb="firebase",Jb="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",eR={[gm]:"fire-core",[Ib]:"fire-core-compat",[Db]:"fire-analytics",[Cb]:"fire-analytics-compat",[Ob]:"fire-app-check",[Nb]:"fire-app-check-compat",[Vb]:"fire-auth",[Mb]:"fire-auth-compat",[xb]:"fire-rtdb",[Pb]:"fire-data-connect",[kb]:"fire-rtdb-compat",[Lb]:"fire-fn",[Ub]:"fire-fn-compat",[zb]:"fire-iid",[Bb]:"fire-iid-compat",[qb]:"fire-fcm",[jb]:"fire-fcm-compat",[Hb]:"fire-perf",[Fb]:"fire-perf-compat",[Gb]:"fire-rc",[Kb]:"fire-rc-compat",[Qb]:"fire-gcs",[Yb]:"fire-gcs-compat",[Xb]:"fire-fst",[Wb]:"fire-fst-compat",[$b]:"fire-vertex","fire-js":"fire-js",[Zb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,tR=new Map,_m=new Map;function Ev(r,e){try{r.container.addComponent(e)}catch(n){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Wa(r){const e=r.name;if(_m.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,r);for(const n of sh.values())Ev(n,r);for(const n of tR.values())Ev(n,r);return!0}function $m(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Vn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Zl("app","Firebase",nR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=Jb;function pT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:ym,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw kr.create("bad-app-name",{appName:String(o)});if(n||(n=uT()),!n)throw kr.create("no-options");const u=sh.get(o);if(u){if(ks(n,u.options)&&ks(s,u.config))return u;throw kr.create("duplicate-app",{appName:o})}const f=new ub(o);for(const y of _m.values())f.addComponent(y);const m=new iR(n,s,f);return sh.set(o,m),m}function gT(r=ym){const e=sh.get(r);if(!e&&r===ym&&uT())return pT();if(!e)throw kr.create("no-app",{appName:r});return e}function Lr(r,e,n){let s=eR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(f.join(" "));return}Wa(new Ls(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebase-heartbeat-database",sR=1,zl="firebase-heartbeat-store";let rm=null;function yT(){return rm||(rm=Ab(rR,sR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw kr.create("idb-open",{originalErrorMessage:r.message})})),rm}async function aR(r){try{const n=(await yT()).transaction(zl),s=await n.objectStore(zl).get(_T(r));return await n.done,s}catch(e){if(e instanceof Ji)Yi.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(n.message)}}}async function Tv(r,e){try{const s=(await yT()).transaction(zl,"readwrite");await s.objectStore(zl).put(e,_T(r)),await s.done}catch(n){if(n instanceof Ji)Yi.warn(n.message);else{const s=kr.create("idb-set",{originalErrorMessage:n?.message});Yi.warn(s.message)}}}function _T(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=1024,lR=30;class uR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>lR){const o=fR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Av(),{heartbeatsToSend:n,unsentEntries:s}=cR(this._heartbeatsCache.heartbeats),o=rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Yi.warn(e),""}}}function Av(){return new Date().toISOString().substring(0,10)}function cR(r,e=oR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Sv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Sv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ww()?Zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Sv(r){return rh(JSON.stringify({version:2,heartbeats:r})).length}function fR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(r){Wa(new Ls("platform-logger",e=>new bb(e),"PRIVATE")),Wa(new Ls("heartbeat",e=>new uR(e),"PRIVATE")),Lr(gm,vv,r),Lr(gm,vv,"esm2020"),Lr("fire-js","")}dR("");function vT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mR=vT,ET=new Zl("auth","Firebase",vT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Ym("@firebase/auth");function pR(r,...e){ah.logLevel<=Oe.WARN&&ah.warn(`Auth (${oo}): ${r}`,...e)}function Qc(r,...e){ah.logLevel<=Oe.ERROR&&ah.error(`Auth (${oo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(r,...e){throw Wm(r,...e)}function li(r,...e){return Wm(r,...e)}function TT(r,e,n){const s={...mR(),[e]:n};return new Zl("auth","Firebase",s).create(e,{appName:r.name})}function Ki(r){return TT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ET.create(r,...e)}function _e(r,e,...n){if(!r)throw Wm(e,...n)}function Hi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qc(e),new Error(e)}function Xi(r,e){r||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){return typeof self<"u"&&self.location?.href||""}function gR(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gR()||Qw()||"connection"in navigator)?navigator.onLine:!0}function _R(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=Fw()||Yw()}get(){return yR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(r,e){Xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TR=new eu(3e4,6e4);function Qr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Yr(r,e,n,s,o={}){return ST(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Jl({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...u};return Kw()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ao(r.emulatorConfig.host)&&(g.credentials="include"),AT.fetch()(await wT(r,r.config.apiHost,n,m),g)})}async function ST(r,e,n){r._canInitEmulator=!1;const s={...vR,...e};try{const o=new SR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw kc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw kc(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw TT(r,E,g);jn(r,E)}}catch(o){if(o instanceof Ji)throw o;jn(r,"network-request-failed",{message:String(o)})}}async function tu(r,e,n,s,o={}){const u=await Yr(r,e,n,s,o);return"mfaPendingCredential"in u&&jn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function wT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Zm(r.config,o):`${r.config.apiScheme}://${o}`;return ER.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function AR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(li(this.auth,"network-request-failed")),TR.get())})}}function kc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=li(r,e,s);return o.customData._tokenResponse=n,o}function bv(r){return r!==void 0&&r.enterprise!==void 0}class wR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bR(r,e){return Yr(r,"GET","/v2/recaptchaConfig",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(r,e){return Yr(r,"POST","/v1/accounts:delete",e)}async function oh(r,e){return Yr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IR(r,e=!1){const n=kt(r),s=await n.getIdToken(e),o=Jm(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ml(sm(o.auth_time)),issuedAtTime:Ml(sm(o.iat)),expirationTime:Ml(sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(r){return Number(r)*1e3}function Jm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=oT(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Rv(r){const e=Jm(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ji&&CR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function CR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(r){const e=r.auth,n=await r.getIdToken(),s=await Bl(r,oh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?bT(o.providerUserInfo):[],f=OR(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,g=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function NR(r){const e=kt(r);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function bT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(r,e){const n=await ST(r,{},async()=>{const s=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await wT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&ao(r.emulatorConfig.host)&&(y.credentials="include"),AT.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MR(r,e){return Yr(r,"POST","/v2/accounts:revokeToken",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Rv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await VR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ga;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new DR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IR(this,e)}reload(){return NR(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await Bl(this,RR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:U,providerData:j,stsTokenManager:$}=n;_e(S&&$,e,"internal-error");const F=Ga.fromJSON(this.name,$);_e(typeof S=="string",e,"internal-error"),Dr(s,e.name),Dr(o,e.name),_e(typeof w=="boolean",e,"internal-error"),_e(typeof U=="boolean",e,"internal-error"),Dr(u,e.name),Dr(f,e.name),Dr(m,e.name),Dr(y,e.name),Dr(g,e.name),Dr(E,e.name);const J=new Bn({uid:S,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:E});return j&&Array.isArray(j)&&(J.providerData=j.map(oe=>({...oe}))),y&&(J._redirectEventId=y),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ga;o.updateFromServerResponse(n);const u=new Bn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await lh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ga;m.updateFromIdToken(s);const y=new Bn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;function Fi(r){Xi(r instanceof Function,"Expected a class definition");let e=Iv.get(r);return e?(Xi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Iv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RT.type="NONE";const Cv=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ka{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ka(Fi(Cv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Fi(Cv);const f=Yc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const w=await oh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await Bn._fromGetAccountInfoResponse(e,w,E)}else S=Bn._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ka(u,e,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Ka(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VT(e))return"Blackberry";if(MT(e))return"Webos";if(CT(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(OT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function IT(r=Zt()){return/firefox\//i.test(r)}function CT(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(r=Zt()){return/crios\//i.test(r)}function NT(r=Zt()){return/iemobile/i.test(r)}function OT(r=Zt()){return/android/i.test(r)}function VT(r=Zt()){return/blackberry/i.test(r)}function MT(r=Zt()){return/webos/i.test(r)}function ep(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xR(r=Zt()){return ep(r)&&!!window.navigator?.standalone}function PR(){return Xw()&&document.documentMode===10}function xT(r=Zt()){return ep(r)||OT(r)||MT(r)||VT(r)||/windows phone/i.test(r)||NT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(r,e=[]){let n;switch(r){case"Browser":n=Dv(Zt());break;case"Worker":n=`${Dv(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(r,e={}){return Yr(r,"GET","/v2/passwordPolicy",Qr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=6;class zR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??UR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new kR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ET,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),s=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Ki(this));const n=e?kt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LR(this),n=new zR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await MR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fs(r){return kt(r)}class Nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ib(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qR(r){Ih=r}function kT(r){return Ih.loadJS(r)}function jR(){return Ih.recaptchaEnterpriseScript}function HR(){return Ih.gapiScript}function FR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class GR{constructor(){this.enterprise=new KR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QR="recaptcha-enterprise",LT="NO_RECAPTCHA";class YR{constructor(e){this.type=QR,this.auth=Fs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{bR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new wR(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;bv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(LT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&bv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=jR();y.length!==0&&(y+=m),kT(y).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Ov(r,e,n,s=!1,o=!1){const u=new YR(r);let f;if(o)f=LT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Tm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ov(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Ov(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(r,e){const n=$m(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ks(u,e??{}))return o;jn(o,"already-initialized")}return n.initialize({options:e})}function $R(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Fi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function WR(r,e,n){const s=Fs(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=UT(e),{host:f,port:m}=ZR(e),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ks(g,s.config.emulator)&&ks(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ao(f)?(hT(`${u}//${f}${y}`),fT("Auth",!0)):JR()}function UT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ZR(r){const e=UT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Vv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Vv(f)}}}function Vv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function JR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function eI(r,e){return Yr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(r,e){return tu(r,"POST","/v1/accounts:signInWithPassword",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,e){return tu(r,"POST","/v1/accounts:signInWithEmailLink",Qr(r,e))}async function iI(r,e){return tu(r,"POST","/v1/accounts:signInWithEmailLink",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends tp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ql(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ql(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tm(e,n,"signInWithPassword",tI);case"emailLink":return nI(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tm(e,s,"signUpPassword",eI);case"emailLink":return iI(e,{idToken:n,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r,e){return tu(r,"POST","/v1/accounts:signInWithIdp",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="http://localhost";class Us extends tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Us(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:rI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aI(r){const e=Rl(Il(r)).link,n=e?Rl(Il(e)).deep_link_id:null,s=Rl(Il(r)).deep_link_id;return(s?Rl(Il(s)).link:null)||s||n||e||r}class np{constructor(e){const n=Rl(Il(e)),s=n.apiKey??null,o=n.oobCode??null,u=sI(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aI(e);try{return new np(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(e,n){return ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=np.parseLink(n);return _e(s,"argument-error"),ql._fromEmailAndCode(e,s.code,s.tenantId)}}lo.PROVIDER_ID="password";lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends zT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends nu{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Us._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Or.credential(n,s)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends nu{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends nu{constructor(){super("twitter.com")}static credential(e,n){return Us._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Mr.credential(n,s)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(r,e){return tu(r,"POST","/v1/accounts:signUp",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Bn._fromIdTokenResponse(e,s,o),f=Mv(s);return new zs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Mv(s);return new zs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Mv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Ji{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new uh(e,n,s,o)}}function BT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(r,u,e,s):u})}async function lI(r,e,n=!1){const s=await Bl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return zs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(r,e,n=!1){const{auth:s}=r;if(Vn(s.app))return Promise.reject(Ki(s));const o="reauthenticate";try{const u=await Bl(r,BT(s,o,e,r),n);_e(u.idToken,s,"internal-error");const f=Jm(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(r.uid===m,s,"user-mismatch"),zs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(r,e,n=!1){if(Vn(r.app))return Promise.reject(Ki(r));const s="signIn",o=await BT(r,s,e),u=await zs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function cI(r,e){return qT(Fs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(r){const e=Fs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hI(r,e,n){if(Vn(r.app))return Promise.reject(Ki(r));const s=Fs(r),f=await Tm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oI).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&jT(r),y}),m=await zs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function fI(r,e,n){return Vn(r.app)?Promise.reject(Ki(r)):cI(kt(r),lo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&jT(r),s})}function dI(r,e,n,s){return kt(r).onIdTokenChanged(e,n,s)}function mI(r,e,n){return kt(r).beforeAuthStateChanged(e,n)}function pI(r,e,n,s){return kt(r).onAuthStateChanged(e,n,s)}function gI(r){return kt(r).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=1e3,_I=10;class FT extends HT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);PR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_I):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},yI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FT.type="LOCAL";const vI=FT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends HT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GT.type="SESSION";const KT=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ch(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await EI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=ip("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function AI(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function SI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wI(){return navigator?.serviceWorker?.controller||null}function bI(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",RI=1,hh="firebaseLocalStorage",XT="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(r,e){return r.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function II(){const r=indexedDB.deleteDatabase(YT);return new iu(r).toPromise()}function Am(){const r=indexedDB.open(YT,RI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(hh,{keyPath:XT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(hh)?e(s):(s.close(),await II(),e(await Am()))})})}async function xv(r,e,n){const s=Dh(r,!0).put({[XT]:e,value:n});return new iu(s).toPromise()}async function CI(r,e){const n=Dh(r,!1).get(e),s=await new iu(n).toPromise();return s===void 0?null:s.value}function Pv(r,e){const n=Dh(r,!0).delete(e);return new iu(n).toPromise()}const DI=800,NI=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>NI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(bI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SI(),!this.activeServiceWorker)return;this.sender=new TI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await xv(e,ch,"1"),await Pv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>xv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>CI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const OI=$T;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r,e){return e?Fi(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MI(r){return qT(r.auth,new rp(r),r.bypassAuthState)}function xI(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),uI(n,new rp(r),r.bypassAuthState)}async function PI(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),lI(n,new rp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MI;case"linkViaPopup":case"linkViaRedirect":return PI;case"reauthViaPopup":case"reauthViaRedirect":return xI;default:jn(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new eu(2e3,1e4);class Fa extends WT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kI.get())};e()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="pendingRedirect",Xc=new Map;class UI extends WT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const s=await zI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zI(r,e){const n=jI(e),s=qI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function BI(r,e){Xc.set(r._key(),e)}function qI(r){return Fi(r._redirectPersistence)}function jI(r){return Yc(LI,r.config.apiKey,r.name)}async function HI(r,e,n=!1){if(Vn(r.app))return Promise.reject(Ki(r));const s=Fs(r),o=VI(s,e),f=await new UI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=600*1e3;class GI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ZT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(li(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FI&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(e))}saveEventToCache(e){this.cachedEventUids.add(kv(e)),this.lastProcessedEventTime=Date.now()}}function kv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ZT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function KI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,e={}){return Yr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XI=/^https?/;async function $I(r){if(r.config.emulator)return;const{authorizedDomains:e}=await QI(r);for(const n of e)try{if(WI(n))return}catch{}jn(r,"unauthorized-domain")}function WI(r){const e=vm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!XI.test(n))return!1;if(YI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new eu(3e4,6e4);function Lv(){const r=ui().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function JI(r){return new Promise((e,n)=>{function s(){Lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lv(),n(li(r,"network-request-failed"))},timeout:ZI.get()})}if(ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ui().gapi?.load)s();else{const o=FR("iframefcb");return ui()[o]=()=>{gapi.load?s():n(li(r,"network-request-failed"))},kT(`${HR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw $c=null,e})}let $c=null;function eC(r){return $c=$c||JI(r),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new eu(5e3,15e3),nC="__/auth/iframe",iC="emulator/auth/iframe",rC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aC(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Zm(e,iC):`https://${r.config.authDomain}/${nC}`,s={apiKey:e.apiKey,appName:r.name,v:oo},o=sC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Jl(s).slice(1)}`}async function oC(r){const e=await eC(r),n=ui().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:aC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=li(r,"network-request-failed"),m=ui().setTimeout(()=>{u(f)},tC.get());function y(){ui().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uC=500,cC=600,hC="_blank",fC="http://localhost";class Uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dC(r,e,n,s=uC,o=cC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...lC,width:s.toString(),height:o.toString(),top:u,left:f},g=Zt().toLowerCase();n&&(m=DT(g)?hC:n),IT(g)&&(e=e||fC,y.scrollbars="yes");const E=Object.entries(y).reduce((w,[U,j])=>`${w}${U}=${j},`,"");if(xR(g)&&m!=="_self")return mC(e||"",m),new Uv(null);const S=window.open(e||"",m,E);_e(S,r,"popup-blocked");try{S.focus()}catch{}return new Uv(S)}function mC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="__/auth/handler",gC="emulator/auth/handler",yC=encodeURIComponent("fac");async function zv(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:oo,eventId:o};if(e instanceof zT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",nb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof nu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),g=y?`#${yC}=${encodeURIComponent(y)}`:"";return`${_C(r)}?${Jl(m).slice(1)}${g}`}function _C({config:r}){return r.emulator?Zm(r,gC):`https://${r.authDomain}/${pC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class vC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=HI,this._overrideRedirectResult=BI}async _openPopup(e,n,s,o){Xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await zv(e,n,s,vm(),o);return dC(e,u,ip())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await zv(e,n,s,vm(),o);return AI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Xi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oC(e),s=new GI(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&n(!!u),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$I(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xT()||CT()||ep()}}const EC=vC;var Bv="@firebase/auth",qv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SC(r){Wa(new Ls("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(r)},g=new BR(s,o,u,y);return $R(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wa(new Ls("auth-internal",e=>{const n=Fs(e.getProvider("auth").getImmediate());return(s=>new TC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Bv,qv,AC(r)),Lr(Bv,qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=300,bC=cT("authIdTokenMaxAge")||wC;let jv=null;const RC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>bC)return;const o=n?.token;jv!==o&&(jv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IC(r=gT()){const e=$m(r,"auth");if(e.isInitialized())return e.getImmediate();const n=XR(r,{popupRedirectResolver:EC,persistence:[OI,vI,KT]}),s=cT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=RC(u.toString());mI(n,f,()=>f(n.currentUser)),dI(n,m=>f(m))}}const o=lT("auth");return o&&WR(n,`http://${o}`),n}function CC(){return document.getElementsByTagName("head")?.[0]??document}qR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=li("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",CC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SC("Browser");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,JT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,b){function I(){}I.prototype=b.prototype,V.D=b.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(O,M,P){for(var C=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)C[Lt-2]=arguments[Lt];return b.prototype[M].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,b,I){I||(I=0);var O=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)O[M]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(M=0;16>M;++M)O[M]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=V.g[0],I=V.g[1],M=V.g[2];var P=V.g[3],C=b+(P^I&(M^P))+O[0]+3614090360&4294967295;b=I+(C<<7&4294967295|C>>>25),C=P+(M^b&(I^M))+O[1]+3905402710&4294967295,P=b+(C<<12&4294967295|C>>>20),C=M+(I^P&(b^I))+O[2]+606105819&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(b^M&(P^b))+O[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=b+(P^I&(M^P))+O[4]+4118548399&4294967295,b=I+(C<<7&4294967295|C>>>25),C=P+(M^b&(I^M))+O[5]+1200080426&4294967295,P=b+(C<<12&4294967295|C>>>20),C=M+(I^P&(b^I))+O[6]+2821735955&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(b^M&(P^b))+O[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=b+(P^I&(M^P))+O[8]+1770035416&4294967295,b=I+(C<<7&4294967295|C>>>25),C=P+(M^b&(I^M))+O[9]+2336552879&4294967295,P=b+(C<<12&4294967295|C>>>20),C=M+(I^P&(b^I))+O[10]+4294925233&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(b^M&(P^b))+O[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=b+(P^I&(M^P))+O[12]+1804603682&4294967295,b=I+(C<<7&4294967295|C>>>25),C=P+(M^b&(I^M))+O[13]+4254626195&4294967295,P=b+(C<<12&4294967295|C>>>20),C=M+(I^P&(b^I))+O[14]+2792965006&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(b^M&(P^b))+O[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=b+(M^P&(I^M))+O[1]+4129170786&4294967295,b=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(b^I))+O[6]+3225465664&4294967295,P=b+(C<<9&4294967295|C>>>23),C=M+(b^I&(P^b))+O[11]+643717713&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^b&(M^P))+O[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=b+(M^P&(I^M))+O[5]+3593408605&4294967295,b=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(b^I))+O[10]+38016083&4294967295,P=b+(C<<9&4294967295|C>>>23),C=M+(b^I&(P^b))+O[15]+3634488961&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^b&(M^P))+O[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=b+(M^P&(I^M))+O[9]+568446438&4294967295,b=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(b^I))+O[14]+3275163606&4294967295,P=b+(C<<9&4294967295|C>>>23),C=M+(b^I&(P^b))+O[3]+4107603335&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^b&(M^P))+O[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=b+(M^P&(I^M))+O[13]+2850285829&4294967295,b=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(b^I))+O[2]+4243563512&4294967295,P=b+(C<<9&4294967295|C>>>23),C=M+(b^I&(P^b))+O[7]+1735328473&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^b&(M^P))+O[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=b+(I^M^P)+O[5]+4294588738&4294967295,b=I+(C<<4&4294967295|C>>>28),C=P+(b^I^M)+O[8]+2272392833&4294967295,P=b+(C<<11&4294967295|C>>>21),C=M+(P^b^I)+O[11]+1839030562&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^b)+O[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=b+(I^M^P)+O[1]+2763975236&4294967295,b=I+(C<<4&4294967295|C>>>28),C=P+(b^I^M)+O[4]+1272893353&4294967295,P=b+(C<<11&4294967295|C>>>21),C=M+(P^b^I)+O[7]+4139469664&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^b)+O[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=b+(I^M^P)+O[13]+681279174&4294967295,b=I+(C<<4&4294967295|C>>>28),C=P+(b^I^M)+O[0]+3936430074&4294967295,P=b+(C<<11&4294967295|C>>>21),C=M+(P^b^I)+O[3]+3572445317&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^b)+O[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=b+(I^M^P)+O[9]+3654602809&4294967295,b=I+(C<<4&4294967295|C>>>28),C=P+(b^I^M)+O[12]+3873151461&4294967295,P=b+(C<<11&4294967295|C>>>21),C=M+(P^b^I)+O[15]+530742520&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^b)+O[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=b+(M^(I|~P))+O[0]+4096336452&4294967295,b=I+(C<<6&4294967295|C>>>26),C=P+(I^(b|~M))+O[7]+1126891415&4294967295,P=b+(C<<10&4294967295|C>>>22),C=M+(b^(P|~I))+O[14]+2878612391&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~b))+O[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=b+(M^(I|~P))+O[12]+1700485571&4294967295,b=I+(C<<6&4294967295|C>>>26),C=P+(I^(b|~M))+O[3]+2399980690&4294967295,P=b+(C<<10&4294967295|C>>>22),C=M+(b^(P|~I))+O[10]+4293915773&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~b))+O[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=b+(M^(I|~P))+O[8]+1873313359&4294967295,b=I+(C<<6&4294967295|C>>>26),C=P+(I^(b|~M))+O[15]+4264355552&4294967295,P=b+(C<<10&4294967295|C>>>22),C=M+(b^(P|~I))+O[6]+2734768916&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~b))+O[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=b+(M^(I|~P))+O[4]+4149444226&4294967295,b=I+(C<<6&4294967295|C>>>26),C=P+(I^(b|~M))+O[11]+3174756917&4294967295,P=b+(C<<10&4294967295|C>>>22),C=M+(b^(P|~I))+O[2]+718787259&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~b))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}s.prototype.u=function(V,b){b===void 0&&(b=V.length);for(var I=b-this.blockSize,O=this.B,M=this.h,P=0;P<b;){if(M==0)for(;P<=I;)o(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<b;)if(O[M++]=V.charCodeAt(P++),M==this.blockSize){o(this,O),M=0;break}}else for(;P<b;)if(O[M++]=V[P++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;var I=8*this.o;for(b=V.length-8;b<V.length;++b)V[b]=I&255,I/=256;for(this.u(V),V=Array(16),b=I=0;4>b;++b)for(var O=0;32>O;O+=8)V[I++]=this.g[b]>>>O&255;return V};function u(V,b){var I=m;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=b(V)}function f(V,b){this.h=b;for(var I=[],O=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;O&&P==b||(I[M]=P,O=!1)}this.g=I}var m={};function y(V){return-128<=V&&128>V?u(V,function(b){return new f([b|0],0>b?-1:0)}):new f([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return F(g(-V));for(var b=[],I=1,O=0;V>=I;O++)b[O]=V/I|0,I*=4294967296;return new f(b,0)}function E(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return F(E(V.substring(1),b));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(b,8)),O=S,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),C=parseInt(V.substring(M,M+P),b);8>P?(P=g(Math.pow(b,P)),O=O.j(P).add(g(C))):(O=O.j(I),O=O.add(g(C)))}return O}var S=y(0),w=y(1),U=y(16777216);r=f.prototype,r.m=function(){if($(this))return-F(this).m();for(var V=0,b=1,I=0;I<this.g.length;I++){var O=this.i(I);V+=(0<=O?O:4294967296+O)*b,b*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(j(this))return"0";if($(this))return"-"+F(this).toString(V);for(var b=g(Math.pow(V,6)),I=this,O="";;){var M=we(I,b).g;I=J(I,M.j(b));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=M,j(I))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function j(V){if(V.h!=0)return!1;for(var b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function $(V){return V.h==-1}r.l=function(V){return V=J(this,V),$(V)?-1:j(V)?0:1};function F(V){for(var b=V.g.length,I=[],O=0;O<b;O++)I[O]=~V.g[O];return new f(I,~V.h).add(w)}r.abs=function(){return $(this)?F(this):this},r.add=function(V){for(var b=Math.max(this.g.length,V.g.length),I=[],O=0,M=0;M<=b;M++){var P=O+(this.i(M)&65535)+(V.i(M)&65535),C=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=C>>>16,P&=65535,C&=65535,I[M]=C<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function J(V,b){return V.add(F(b))}r.j=function(V){if(j(this)||j(V))return S;if($(this))return $(V)?F(this).j(F(V)):F(F(this).j(V));if($(V))return F(this.j(F(V)));if(0>this.l(U)&&0>V.l(U))return g(this.m()*V.m());for(var b=this.g.length+V.g.length,I=[],O=0;O<2*b;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var P=this.i(O)>>>16,C=this.i(O)&65535,Lt=V.i(M)>>>16,ot=V.i(M)&65535;I[2*O+2*M]+=C*ot,oe(I,2*O+2*M),I[2*O+2*M+1]+=P*ot,oe(I,2*O+2*M+1),I[2*O+2*M+1]+=C*Lt,oe(I,2*O+2*M+1),I[2*O+2*M+2]+=P*Lt,oe(I,2*O+2*M+2)}for(O=0;O<b;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=b;O<2*b;O++)I[O]=0;return new f(I,0)};function oe(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function re(V,b){this.g=V,this.h=b}function we(V,b){if(j(b))throw Error("division by zero");if(j(V))return new re(S,S);if($(V))return b=we(F(V),b),new re(F(b.g),F(b.h));if($(b))return b=we(V,F(b)),new re(F(b.g),b.h);if(30<V.g.length){if($(V)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var I=w,O=b;0>=O.l(V);)I=fe(I),O=fe(O);var M=xe(I,1),P=xe(O,1);for(O=xe(O,2),I=xe(I,2);!j(O);){var C=P.add(O);0>=C.l(V)&&(M=M.add(I),P=C),O=xe(O,1),I=xe(I,1)}return b=J(V,M.j(b)),new re(M,b)}for(M=S;0<=V.l(b);){for(I=Math.max(1,Math.floor(V.m()/b.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=g(I),C=P.j(b);$(C)||0<C.l(V);)I-=O,P=g(I),C=P.j(b);j(P)&&(P=w),M=M.add(P),V=J(V,C)}return new re(M,V)}r.A=function(V){return we(this,V).h},r.and=function(V){for(var b=Math.max(this.g.length,V.g.length),I=[],O=0;O<b;O++)I[O]=this.i(O)&V.i(O);return new f(I,this.h&V.h)},r.or=function(V){for(var b=Math.max(this.g.length,V.g.length),I=[],O=0;O<b;O++)I[O]=this.i(O)|V.i(O);return new f(I,this.h|V.h)},r.xor=function(V){for(var b=Math.max(this.g.length,V.g.length),I=[],O=0;O<b;O++)I[O]=this.i(O)^V.i(O);return new f(I,this.h^V.h)};function fe(V){for(var b=V.g.length+1,I=[],O=0;O<b;O++)I[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(I,V.h)}function xe(V,b){var I=b>>5;b%=32;for(var O=V.g.length-I,M=[],P=0;P<O;P++)M[P]=0<b?V.i(P+I)>>>b|V.i(P+I+1)<<32-b:V.i(P+I);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,JT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ur=f}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e0,Cl,t0,Wc,Sm,n0,i0,r0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in _))break e;_=_[k]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,A=!1,k={next:function(){if(!A&&_<c.length){var H=_++;return{value:p(H,c[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function S(c,p,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),c.apply(p,k)}}return function(){return c.apply(p,arguments)}}function w(c,p,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,w.apply(null,arguments)}function U(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function j(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,k,H){for(var ie=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ie[Pe-2]=arguments[Pe];return p.prototype[k].apply(A,ie)}}function $(c){const p=c.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function F(c,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const k=c.length||0,H=A.length||0;c.length=k+H;for(let ie=0;ie<H;ie++)c[k+ie]=A[ie]}else c.push(A)}}class J{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function oe(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function we(c){return we[" "](c),c}we[" "]=function(){};var fe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function xe(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function V(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function b(c){const p={};for(const _ in c)p[_]=c[_];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,p){let _,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(_ in A)c[_]=A[_];for(let H=0;H<I.length;H++)_=I[H],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function M(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Be;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Lt{constructor(){this.h=this.g=null}add(p,_){const A=ot.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ot=new J(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,Be=new Lt,D=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){P(_)}var p=ot;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}de=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Ie(c,p){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(fe){e:{try{we(p.nodeName);var k=!0;break e}catch{}k=!1}k||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}j(Ie,te);var Te={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Fn(c,p,_,A,k){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=k,this.key=++Je,this.da=this.fa=!1}function er(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,p,_,A,k){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var ie=Zr(c,p,A,k);return-1<ie?(p=c[ie],_||(p.fa=!1)):(p=new Fn(p,this.src,H,!!A,k),p.fa=_,c.push(p)),p};function Wr(c,p){var _=p.type;if(_ in c.g){var A=c.g[_],k=Array.prototype.indexOf.call(A,p,void 0),H;(H=0<=k)&&Array.prototype.splice.call(A,k,1),H&&(er(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Zr(c,p,_,A){for(var k=0;k<c.length;++k){var H=c[k];if(!H.da&&H.listener==p&&H.capture==!!_&&H.ha==A)return k}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),po={};function hu(c,p,_,A,k){if(Array.isArray(p)){for(var H=0;H<p.length;H++)hu(c,p[H],_,A,k);return null}return _=fu(_),c&&c[Dt]?c.K(p,_,g(A)?!!A.capture:!1,k):vn(c,p,_,!1,A,k)}function vn(c,p,_,A,k,H){if(!p)throw Error("Invalid event type");var ie=g(k)?!!k.capture:!!k,Pe=Xs(c);if(Pe||(c[Jr]=Pe=new yi(c)),_=Pe.add(p,_,A,ie,H),_.proxy)return _;if(A=Gh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)pe||(k=ie),k===void 0&&(k=!1),c.addEventListener(p.toString(),A,k);else if(c.attachEvent)c.attachEvent(es(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gh(){function c(_){return p.call(c.src,c.listener,_)}const p=Kh;return c}function go(c,p,_,A,k){if(Array.isArray(p))for(var H=0;H<p.length;H++)go(c,p[H],_,A,k);else A=g(A)?!!A.capture:!!A,_=fu(_),c&&c[Dt]?(c=c.i,p=String(p).toString(),p in c.g&&(H=c.g[p],_=Zr(H,_,A,k),-1<_&&(er(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[p],c.h--)))):c&&(c=Xs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Zr(p,_,A,k)),(_=-1<c?p[c]:null)&&Ys(_))}function Ys(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Dt])Wr(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(es(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Xs(p))?(Wr(_,c),_.h==0&&(_.src=null,p[Jr]=null)):er(c)}}}function es(c){return c in po?po[c]:po[c]="on"+c}function Kh(c,p){if(c.da)c=!0;else{p=new Ie(p,this);var _=c.listener,A=c.ha||c.src;c.fa&&Ys(c),c=_.call(A,p)}return c}function Xs(c){return c=c[Jr],c instanceof yi?c:null}var yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function fu(c){return typeof c=="function"?c:(c[yo]||(c[yo]=function(p){return c.handleEvent(p)}),c[yo])}function lt(){ae.call(this),this.i=new yi(this),this.M=this,this.F=null}j(lt,ae),lt.prototype[Dt]=!0,lt.prototype.removeEventListener=function(c,p,_,A){go(this,c,p,_,A)};function Fe(c,p){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new te(p,c);else if(p instanceof te)p.target=p.target||c;else{var k=p;p=new te(A,c),O(p,k)}if(k=!0,_)for(var H=_.length-1;0<=H;H--){var ie=p.g=_[H];k=un(ie,A,!0,p)&&k}if(ie=p.g=c,k=un(ie,A,!0,p)&&k,k=un(ie,A,!1,p)&&k,_)for(H=0;H<_.length;H++)ie=p.g=_[H],k=un(ie,A,!1,p)&&k}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],A=0;A<_.length;A++)er(_[A]);delete c.g[p],c.h--}}this.F=null},lt.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},lt.prototype.L=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function un(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var k=!0,H=0;H<p.length;++H){var ie=p[H];if(ie&&!ie.da&&ie.capture==_){var Pe=ie.listener,St=ie.ha||ie.src;ie.fa&&Wr(c.i,ie),k=Pe.call(St,A)!==!1&&k}}return k&&!A.defaultPrevented}function Kt(c,p,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function du(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,du(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Qh extends ae{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){ae.call(this),this.h=c,this.g={}}j(ts,ae);var ns=[];function is(c){xe(c.g,function(p,_){this.g.hasOwnProperty(_)&&Ys(p)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),is(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=m.JSON.stringify,$s=m.JSON.parse,rs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function _o(){}_o.prototype.h=null;function vo(c){return c.h||(c.h=c.i())}function Eo(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){te.call(this,"d")}j(vi,te);function To(){te.call(this,"c")}j(To,te);var Gn={},Ao=null;function tr(){return Ao=Ao||new lt}Gn.La="serverreachability";function Ws(c){te.call(this,Gn.La,c)}j(Ws,te);function nr(c){const p=tr();Fe(p,new Ws(p))}Gn.STAT_EVENT="statevent";function mu(c,p){te.call(this,Gn.STAT_EVENT,c),this.stat=p}j(mu,te);function nt(c){const p=tr();Fe(p,new mu(p,c))}Gn.Ma="timingevent";function At(c,p){te.call(this,Gn.Ma,c),this.size=p}j(At,te);function pt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function So(c,p,_,A,k,H){c.info(function(){if(c.g)if(H)for(var ie="",Pe=H.split("&"),St=0;St<Pe.length;St++){var ke=Pe[St].split("=");if(1<ke.length){var Ot=ke[0];ke=ke[1];var wt=Ot.split("_");ie=2<=wt.length&&wt[1]=="type"?ie+(Ot+"="+ke+"&"):ie+(Ot+"=redacted&")}}else ie=null;else ie=H;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+p+`
`+_+`
`+ie})}function Yh(c,p,_,A,k,H,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+p+`
`+_+`
`+H+" "+ie})}function ir(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ss(c,_)+(A?" "+A:"")})}function pu(c,p){c.info(function(){return"TIMEOUT: "+p})}En.prototype.info=function(){};function ss(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var H=k[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ie=1;ie<k.length;ie++)k[ie]=""}}}}return xn(_)}catch{return p}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Qn(){}j(Qn,_o),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Kn=new Qn;function Jt(c,p,_,A){this.j=c,this.i=p,this.l=_,this.R=A||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var wo={},Zs={};function Pn(c,p,_){c.L=1,c.v=cs(cn(p)),c.m=_,c.P=!0,Ti(c,null)}function Ti(c,p){c.F=Date.now(),as(c),c.A=cn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),No(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ht,c.g=Ou(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Qh(w(c.Y,c,c.g),c.O)),p=c.U,_=c.g,A=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(ns[0]=k.toString()),k=ns);for(var H=0;H<k.length;H++){var ie=hu(_,k[H],A||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),nr(),So(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const p=this.M;p&&wn(c)==3?p.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const wt=wn(this.g);var p=this.g.Ba();const Di=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||wt!=4||p==7||(p==8||0>=Di?nr(3):nr(2)),sr(this);var _=this.g.Z();this.X=_;t:if(gu(this)){var A=Su(this.g);c="";var k=A.length,H=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Yn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(p=0;p<k;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(H&&p==k-1)});A.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Yh(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,St=this.g;if((Pe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,_);else{this.o=!1,this.s=3,nt(12),Ut(this),Yn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=yu(this,ie),zt==Zs){wt==4&&(this.s=4,nt(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==wo){this.s=4,nt(15),ir(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,zt,null),os(this,zt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ie.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,ie,"[Invalid Chunked Response]"),Ut(this),Yn(this);else if(0<ie.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),_s(Ot),Ot.M=!0,nt(11))}}else ir(this.i,this.l,ie,null),os(this,ie);wt==4&&Ut(this),this.o&&!this.J&&(wt==4?Cu(this.j,this):(this.o=!1,as(this)))}else Jh(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ut(this),Yn(this)}}}catch{}finally{}};function gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yu(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?Zs:(_=Number(p.substring(_,A)),isNaN(_)?wo:(A+=1,A+_>p.length?Zs:(p=p.slice(A,A+_),c.C=A+_,p)))}Jt.prototype.cancel=function(){this.J=!0,Ut(this)};function as(c){c.S=Date.now()+c.I,_u(c,c.I)}function _u(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(w(c.ba,c),p)}function sr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pu(this.i,this.A),this.L!=2&&(nr(),nt(17)),Ut(this),this.s=2,Yn(this)):_u(this,this.S-c)};function Yn(c){c.j.G==0||c.J||Cu(c.j,c)}function Ut(c){sr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,is(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function os(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||bo(_.h,c))){if(!c.K&&bo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ca(_),la(_);else break e;Po(_),nt(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=pt(w(_.Za,_),6e3));if(1>=ea(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&ca(_),!oe(p))for(k=_.Da.g.parse(p),p=0;p<k.length;p++){let ke=k[p];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Ot=ke[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const wt=ke[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const Di=ke[5];Di!=null&&typeof Di=="number"&&0<Di&&(A=1.5*Di,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zt=c.g;if(zt){const ti=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var H=A.h;H.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ta(H,H.h),H.h=null))}if(A.D){const Lo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Lo&&(A.ya=Lo,Qe(A.I,A.D,Lo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ie=c;if(A.qa=Nu(A,A.J?A.ia:null,A.W),ie.K){en(A.h,ie);var Pe=ie,St=A.L;St&&(Pe.I=St),Pe.B&&(sr(Pe),as(Pe)),A.g=ie}else Ru(A);0<_.i.length&&ua(_)}else ke[0]!="stop"&&ke[0]!="close"||Ci(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ci(_,7):Mo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}nr(4)}catch{}}var vu=class{constructor(c,p){this.g=c,this.map=p}};function Ai(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Js(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ea(c){return c.h?1:c.g?c.g.size:0}function bo(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ta(c,p){c.g?c.g.add(p):c.h=p}function en(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ai.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ro(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return $(c.i)}function Xh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var p=[],_=c.length,A=0;A<_;A++)p.push(c[A]);return p}p=[],_=0;for(A in c)p[_++]=c[A];return p}function na(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const A in c)p[_++]=A;return p}}}function Io(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=na(c),A=Xh(c),k=A.length,H=0;H<k;H++)p.call(void 0,A[H],_&&_[H],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $h(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),k=null;if(0<=A){var H=c[_].substring(0,A);k=c[_].substring(A+1)}else H=c[_];p(H,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,ar(this,c.s),this.l=c.l;var p=c.i,_=new wi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Si(this,_),this.m=c.m}else c&&(p=String(c).match(ls))?(this.h=!1,us(this,p[1]||"",!0),this.o=Tn(p[2]||""),this.g=Tn(p[3]||"",!0),ar(this,p[4]),this.l=Tn(p[5]||"",!0),Si(this,p[6]||"",!0),this.m=Tn(p[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}gt.prototype.toString=function(){var c=[],p=this.j;p&&c.push(hs(p,Co,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(hs(p,Co,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(hs(_,_.charAt(0)=="/"?Wh:Do,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",hs(_,ia)),c.join("")};function cn(c){return new gt(c)}function us(c,p,_){c.j=_?Tn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ar(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Si(c,p,_){p instanceof wi?(c.i=p,Tu(c.i,c.h)):(_||(p=hs(p,Zh)),c.i=new wi(p,c.h))}function Qe(c,p,_){c.i.set(p,_)}function cs(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,Eu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Eu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Co=/[#\/\?@]/g,Do=/[#\?:]/g,Wh=/[#\?]/g,Zh=/[#\?@]/g,ia=/#/g;function wi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&$h(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=wi.prototype,r.add=function(c,p){An(this),this.i=null,c=Xn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function bi(c,p){An(c),p=Xn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ri(c,p){return An(c),p=Xn(c,p),c.g.has(p)}r.forEach=function(c,p){An(this),this.g.forEach(function(_,A){_.forEach(function(k){c.call(p,k,A,this)},this)},this)},r.na=function(){An(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const k=c[A];for(let H=0;H<k.length;H++)_.push(p[A])}return _},r.V=function(c){An(this);let p=[];if(typeof c=="string")Ri(this,c)&&(p=p.concat(this.g.get(Xn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return An(this),this.i=null,c=Xn(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function No(c,p,_){bi(c,p),0<_.length&&(c.i=null,c.g.set(Xn(c,p),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const H=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var k=H;ie[A]!==""&&(k+="="+encodeURIComponent(String(ie[A]))),c.push(k)}}return this.i=c.join("&")};function Xn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Tu(c,p){p&&!c.j&&(An(c),c.i=null,c.g.forEach(function(_,A){var k=A.toLowerCase();A!=k&&(bi(this,A),No(this,k,_))},c)),c.j=p}function fs(c,p){const _=new En;if(m.Image){const A=new Image;A.onload=U(Sn,_,"TestLoadImage: loaded",!0,p,A),A.onerror=U(Sn,_,"TestLoadImage: error",!1,p,A),A.onabort=U(Sn,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=U(Sn,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function kn(c,p){const _=new En,A=new AbortController,k=setTimeout(()=>{A.abort(),Sn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(k),H.ok?Sn(_,"TestPingServer: ok",!0,p):Sn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),Sn(_,"TestPingServer: error",!1,p)})}function Sn(c,p,_,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(_)}catch{}}function ds(){this.g=new rs}function $n(c,p,_){const A=_||"";try{Io(c,function(k,H){let ie=k;g(k)&&(ie=xn(k)),p.push(A+H+"="+encodeURIComponent(ie))})}catch(k){throw p.push(A+"type="+encodeURIComponent("_badmap")),k}}function or(c){this.l=c.Ub||null,this.j=c.eb||!1}j(or,_o),or.prototype.g=function(){return new Ii(this.l,this.j)},or.prototype.i=function(c){return function(){return c}}({});function Ii(c,p){lt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Ii,lt),r=Ii.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Wn(this):Zn(this),this.readyState==3&&Oo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},r.Qa=function(c){this.g&&(this.response=c,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vo(c){let p="";return xe(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Nt(c,p,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Vo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,p,_))}function je(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(je,lt);var ra=/^https?$/i,ms=["POST","PUT"];r=je.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?vo(this.o):vo(Kn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){Au(this,H);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)_.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())_.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),k=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ms,p,void 0))||A||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of _)this.g.setRequestHeader(H,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){Au(this,H)}};function Au(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,sa(c),Jn(c)}function sa(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?aa(this):this.bb())},r.bb=function(){aa(this)};function aa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)Kt(c.Ea,0,c);else if(Fe(c,"readystatechange"),wn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var A;if(A=ie===0){var k=String(c.D).match(ls)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),A=!ra.test(k?k.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var H=2<wn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",sa(c)}}finally{Jn(c)}}}}function Jn(c,p){if(c.g){ps(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function ps(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),$s(p)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(c){const p={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(oe(c[A]))continue;var _=M(c[A]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=p[k]||[];p[k]=H,H.push(_)}V(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function oa(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(c&&c.concurrentRequestLimit),this.Da=new ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=oa.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,A){nt(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Nu(this,null,this.W),ua(this)};function Mo(c){if(wu(c),c.G==3){var p=c.U++,_=cn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",p),Qe(_,"TYPE","terminate"),ys(c,_),p=new Jt(c,c.j,p),p.L=2,p.v=cs(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Ou(p.j,null),p.g.ea(p.v)),p.F=Date.now(),as(p)}Du(c)}function la(c){c.g&&(_s(c),c.g.cancel(),c.g=null)}function wu(c){la(c),c.u&&(m.clearTimeout(c.u),c.u=null),ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ua(c){if(!Js(c.h)&&!c.s){c.s=!0;var p=c.Ga;se||D(),de||(se(),de=!0),Be.add(p,c),c.B=0}}function ef(c,p){return ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(w(c.Ga,c,p),ko(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new Jt(this,this.j,c);let H=this.o;if(this.S&&(H?(H=b(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(k.H=H,H=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=bu(this,k,p),_=cn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),ys(this,_),H&&(this.O?p="headers="+encodeURIComponent(String(Vo(H)))+"&"+p:this.m&&Nt(_,this.m,H)),ta(this.h,k),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",p),Qe(_,"SID","null"),k.T=!0,Pn(k,_,null)):Pn(k,_,p),this.G=2}}else this.G==3&&(c?xo(this,c):this.i.length==0||Js(this.h)||xo(this))};function xo(c,p){var _;p?_=p.l:_=c.U++;const A=cn(c.I);Qe(A,"SID",c.K),Qe(A,"RID",_),Qe(A,"AID",c.T),ys(c,A),c.m&&c.o&&Nt(A,c.m,c.o),_=new Jt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ta(c.h,_),Pn(_,A,p)}function ys(c,p){c.H&&xe(c.H,function(_,A){Qe(p,A,_)}),c.l&&Io({},function(_,A){Qe(p,A,_)})}function bu(c,p,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var k=c.i;let H=-1;for(;;){const ie=["count="+_];H==-1?0<_?(H=k[0].g,ie.push("ofs="+H)):H=0:ie.push("ofs="+H);let Pe=!0;for(let St=0;St<_;St++){let ke=k[St].g;const Ot=k[St].map;if(ke-=H,0>ke)H=Math.max(0,k[St].g-100),Pe=!1;else try{$n(Ot,ie,"req"+ke+"_")}catch{A&&A(Ot)}}if(Pe){A=ie.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,A}function Ru(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;se||D(),de||(se(),de=!0),Be.add(p,c),c.v=0}}function Po(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(w(c.Fa,c),ko(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),la(this),Iu(this))};function _s(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=cn(c.qa);Qe(p,"RID","rpc"),Qe(p,"SID",c.K),Qe(p,"AID",c.T),Qe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(p,"TO",c.ja),Qe(p,"TYPE","xmlhttp"),ys(c,p),c.m&&c.o&&Nt(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=cs(cn(p)),_.m=null,_.P=!0,Ti(_,c)}r.Za=function(){this.C!=null&&(this.C=null,la(this),Po(this),nt(19))};function ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Cu(c,p){var _=null;if(c.g==p){ca(c),_s(c),c.g=null;var A=2}else if(bo(c.h,p))_=p.D,en(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var k=c.B;A=tr(),Fe(A,new At(A,_)),ua(c)}else Ru(c);else if(k=p.s,k==3||k==0&&0<p.X||!(A==1&&ef(c,p)||A==2&&Po(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),k){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function ko(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Ci(c,p){if(c.j.info("Error code "+p),p==2){var _=w(c.fb,c),A=c.Xa;const k=!A;A=new gt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||us(A,"https"),cs(A),k?fs(A.toString(),_):kn(A.toString(),_)}else nt(2);c.G=0,c.l&&c.l.sa(p),Du(c),wu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Du(c){if(c.G=0,c.ka=[],c.l){const p=Ro(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ka,p),F(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Nu(c,p,_){var A=_ instanceof gt?cn(_):new gt(_);if(A.g!="")p&&(A.g=p+"."+A.g),ar(A,A.s);else{var k=m.location;A=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;var H=new gt(null);A&&us(H,A),p&&(H.g=p),k&&ar(H,k),_&&(H.l=_),A=H}return _=c.D,p=c.ya,_&&p&&Qe(A,_,p),Qe(A,"VER",c.la),ys(c,A),A}function Ou(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new je(new or({eb:_})):new je(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ha(){}ha.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){lt.call(this),this.g=new oa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!oe(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!oe(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ei(this)}j(tn,lt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Mo(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=xn(c),c=_);p.i.push(new vu(p.Ya++,c)),p.G==3&&ua(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,tn.aa.N.call(this)};function Mu(c){vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}j(Mu,vi);function xu(){To.call(this),this.status=1}j(xu,To);function ei(c){this.g=c}j(ei,Vu),ei.prototype.ua=function(){Fe(this.g,"a")},ei.prototype.ta=function(c){Fe(this.g,new Mu(c))},ei.prototype.sa=function(c){Fe(this.g,new xu)},ei.prototype.ra=function(){Fe(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,r0=function(){return new ha},i0=function(){return tr()},n0=Gn,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Wc=rr,Ei.COMPLETE="complete",t0=Ei,Eo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Cl=Eo,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,e0=je}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Fv="@firebase/firestore",Gv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Ym("@firebase/firestore");function Ba(){return Bs.logLevel}function ue(r,...e){if(Bs.logLevel<=Oe.DEBUG){const n=e.map(sp);Bs.debug(`Firestore (${uo}): ${r}`,...n)}}function $i(r,...e){if(Bs.logLevel<=Oe.ERROR){const n=e.map(sp);Bs.error(`Firestore (${uo}): ${r}`,...n)}}function Za(r,...e){if(Bs.logLevel<=Oe.WARN){const n=e.map(sp);Bs.warn(`Firestore (${uo}): ${r}`,...n)}}function sp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,s0(r,s,n)}function s0(r,e,n){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw $i(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||s0(e,o,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class NC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new a0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class VC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new VC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function wm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return om(o)===om(u)?Ve(o,u):om(o)?1:-1}return Ve(r.length,e.length)}const kC=55296,LC=57343;function om(r){const e=r.charCodeAt(0);return e>=kC&&e<=LC}function Ja(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="__name__";class oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=oi.isNumericId(e),o=oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?oi.extractNumericId(e).compare(oi.extractNumericId(n)):wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}}class tt extends oi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const UC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends oi{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return UC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new Ft([Qv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(r,e,n){if(!n)throw new le(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zC(r,e,n,s){if(e===!0&&s===!0)throw new le(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Yv(r){if(!me.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Xv(r){if(me.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function l0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Nh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function qs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nh(r);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e){const n={typeString:r};return e&&(n.value=e),n}function ru(r,e){if(!l0(r))throw new le(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=-62135596800,Wv=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Wv);return new Ze(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$v)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$v;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Tt("string",Ze._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ze(0,0))}static max(){return new Ae(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function BC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Ze(n+1,0):new Ze(n,s));return new qr(o,me.empty(),e)}function qC(r){return new qr(r.readTime,r.key,jl)}class qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new qr(Ae.min(),me.empty(),jl)}static max(){return new qr(Ae.max(),me.empty(),jl)}}function jC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==HC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},y=>s(y))}),f=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function GC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=-1;function Vh(r){return r==null}function fh(r){return r===0&&1/r==-1/0}function KC(r){return typeof r=="number"&&Number.isInteger(r)&&!fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="";function QC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Zv(e)),e=YC(r.get(n),e);return Zv(e)}function YC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case u0:n+="";break;default:n+=u}}return n}function Zv(r){return r+u0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Xr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function c0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eE(this.data.getIterator())}getIteratorFrom(e){return new eE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class eE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Ct(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new h0("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const XC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=XC.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="server_timestamp",d0="__type__",m0="__previous_value__",p0="__local_write_time__";function lp(r){return(r?.mapValue?.fields||{})[d0]?.stringValue===f0}function Mh(r){const e=r.mapValue.fields[m0];return lp(e)?Mh(e):e}function Hl(r){const e=jr(r.mapValue.fields[p0].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,s,o,u,f,m,y,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const dh="(default)";class Fl{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__type__",WC="__max__",zc={mapValue:{}},y0="__vector__",mh="value";function Fr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lp(r)?4:JC(r)?9007199254740991:ZC(r)?10:11:ve(28295,{value:r})}function pi(r,e){if(r===e)return!0;const n=Fr(r);if(n!==Fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hl(r).isEqual(Hl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=jr(o.timestampValue),m=jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Hr(o.bytesValue).isEqual(Hr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?fh(f)===fh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ja(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Jv(f)!==Jv(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!pi(f[y],m[y])))return!1;return!0}(r,e);default:return ve(52216,{left:r})}}function Gl(r,e){return(r.values||[]).find(n=>pi(n,e))!==void 0}function eo(r,e){if(r===e)return 0;const n=Fr(r),s=Fr(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),y=mt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(r,e);case 3:return tE(r.timestampValue,e.timestampValue);case 4:return tE(Hl(r),Hl(e));case 5:return wm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Hr(u),y=Hr(f);return m.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=Ve(m[g],y[g]);if(E!==0)return E}return Ve(m.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(mt(u.latitude),mt(f.latitude));return m!==0?m:Ve(mt(u.longitude),mt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return nE(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},y=f.fields||{},g=m[mh]?.arrayValue,E=y[mh]?.arrayValue,S=Ve(g?.values?.length||0,E?.values?.length||0);return S!==0?S:nE(g,E)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===zc.mapValue&&f===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(f===zc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const w=wm(y[S],E[S]);if(w!==0)return w;const U=eo(m[y[S]],g[E[S]]);if(U!==0)return U}return Ve(y.length,E.length)}(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function tE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=jr(r),s=jr(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function nE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=eo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function to(r){return bm(r)}function bm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=jr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Hr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return me.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=bm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${bm(n.fields[f])}`;return o+"}"}(r.mapValue):ve(61005,{value:r})}function Zc(r){switch(Fr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(r);return e?16+Zc(e):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Zc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Xr(s.fields,(u,f)=>{o+=u.length+Zc(f)}),o}(r.mapValue);default:throw ve(13486,{value:r})}}function iE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rm(r){return!!r&&"integerValue"in r}function up(r){return!!r&&"arrayValue"in r}function rE(r){return!!r&&"nullValue"in r}function sE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function ZC(r){return(r?.mapValue?.fields||{})[g0]?.stringValue===y0}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xr(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=xl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xl(r.arrayValue.values[n]);return e}return{...r}}function JC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=xl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Xr(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new ln(xl(this.value))}}function _0(r){const e=[];return Xr(r.fields,(n,s)=>{const o=new Ft([n]);if(Jc(s)){const u=_0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function aE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function oE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n="asc"){this.field=e,this.dir=n}}function e2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{}class Et extends v0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new n2(e,n,s):n==="array-contains"?new s2(e,s):n==="in"?new a2(e,s):n==="not-in"?new o2(e,s):n==="array-contains-any"?new l2(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new i2(e,s):new r2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends v0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hn(e,n)}matches(e){return E0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E0(r){return r.op==="and"}function T0(r){return t2(r)&&E0(r)}function t2(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function Im(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+to(r.value);if(T0(r))return r.filters.map(e=>Im(e)).join(",");{const e=r.filters.map(n=>Im(n)).join(",");return`${r.op}(${e})`}}function A0(r,e){return r instanceof Et?function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)}(r,e):r instanceof Hn?function(s,o){return o instanceof Hn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&A0(f,o.filters[m]),!0):!1}(r,e):void ve(19439)}function S0(r){return r instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(r):r instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(S0).join(" ,")+"}"}(r):"Filter"}class n2 extends Et{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class i2 extends Et{constructor(e,n){super(e,"in",n),this.keys=w0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class r2 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=w0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function w0(r,e){return(e.arrayValue?.values||[]).map(n=>me.fromName(n.referenceValue))}class s2 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return up(n)&&Gl(n.arrayValue,this.value)}}class a2 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class o2 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class l2 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!up(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Gl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function lE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new u2(r,e,n,s,o,u,f)}function cp(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Im(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>to(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>to(s)).join(",")),e.Te=n}return e.Te}function hp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!e2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!A0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!oE(r.startAt,e.startAt)&&oE(r.endAt,e.endAt)}function Cm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function c2(r,e,n,s,o,u,f,m){return new fo(r,e,n,s,o,u,f,m)}function b0(r){return new fo(r)}function uE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function R0(r){return r.collectionGroup!==null}function Pl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Ft.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Kl(u,s))}),n.has(Ft.keyField().canonicalString())||e.Ie.push(new Kl(Ft.keyField(),s))}return e.Ie}function ci(r){const e=Se(r);return e.Ee||(e.Ee=h2(e,Pl(r))),e.Ee}function h2(r,e){if(r.limitType==="F")return lE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Kl(o.field,u)});const n=r.endAt?new ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ph(r.startAt.position,r.startAt.inclusive):null;return lE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Dm(r,e){const n=r.filters.concat([e]);return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Nm(r,e,n){return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function xh(r,e){return hp(ci(r),ci(e))&&r.limitType===e.limitType}function I0(r){return`${cp(ci(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>S0(o)).join(", ")}]`),Vh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>to(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>to(o)).join(",")),`Target(${s})`}(ci(r))}; limitType=${r.limitType})`}function Ph(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Pl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,y){const g=aE(f,m,y);return f.inclusive?g<=0:g<0}(s.startAt,Pl(s),o)||s.endAt&&!function(f,m,y){const g=aE(f,m,y);return f.inclusive?g>=0:g>0}(s.endAt,Pl(s),o))}(r,e)}function f2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function C0(r){return(e,n)=>{let s=!1;for(const o of Pl(r)){const u=d2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function d2(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?eo(y,g):ve(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return c0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new at(me.comparator);function Wi(){return m2}const D0=new at(me.comparator);function Dl(...r){let e=D0;for(const n of r)e=e.insert(n.key,n);return e}function N0(r){let e=D0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ps(){return kl()}function O0(){return kl()}function kl(){return new Gs(r=>r.toString(),(r,e)=>r.isEqual(e))}const p2=new at(me.comparator),g2=new Ct(me.comparator);function Me(...r){let e=g2;for(const n of r)e=e.add(n);return e}const y2=new Ct(Ve);function _2(){return y2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function V0(r){return{integerValue:""+r}}function v2(r,e){return KC(e)?V0(e):fp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function E2(r,e,n){return r instanceof gh?function(o,u){const f={fields:{[d0]:{stringValue:f0},[p0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lp(u)&&(u=Mh(u)),u&&(f.fields[m0]=u),{mapValue:f}}(n,e):r instanceof Ql?x0(r,e):r instanceof Yl?P0(r,e):function(o,u){const f=M0(o,u),m=cE(f)+cE(o.Ae);return Rm(f)&&Rm(o.Ae)?V0(m):fp(o.serializer,m)}(r,e)}function T2(r,e,n){return r instanceof Ql?x0(r,e):r instanceof Yl?P0(r,e):n}function M0(r,e){return r instanceof yh?function(s){return Rm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class gh extends kh{}class Ql extends kh{constructor(e){super(),this.elements=e}}function x0(r,e){const n=k0(e);for(const s of r.elements)n.some(o=>pi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Yl extends kh{constructor(e){super(),this.elements=e}}function P0(r,e){let n=k0(e);for(const s of r.elements)n=n.filter(o=>!pi(o,s));return{arrayValue:{values:n}}}class yh extends kh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cE(r){return mt(r.integerValue||r.doubleValue)}function k0(r){return up(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function A2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ql&&o instanceof Ql||s instanceof Yl&&o instanceof Yl?Ja(s.elements,o.elements,pi):s instanceof yh&&o instanceof yh?pi(s.Ae,o.Ae):s instanceof gh&&o instanceof gh}(r.transform,e.transform)}class S2{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Lh{}function L0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new dp(r.key,qn.none()):new su(r.key,r.data,qn.none());{const n=r.data,s=ln.empty();let o=new Ct(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new $r(r.key,s,new _n(o.toArray()),qn.none())}}function w2(r,e,n){r instanceof su?function(o,u,f){const m=o.value.clone(),y=fE(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof $r?function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=fE(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(U0(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ll(r,e,n,s){return r instanceof su?function(u,f,m,y){if(!eh(u.precondition,f))return m;const g=u.value.clone(),E=dE(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof $r?function(u,f,m,y){if(!eh(u.precondition,f))return m;const g=dE(u.fieldTransforms,y,f),E=f.data;return E.setAll(U0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function b2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=M0(s.transform,o||null);u!=null&&(n===null&&(n=ln.empty()),n.set(s.field,u))}return n||null}function hE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ja(s,o,(u,f)=>A2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class su extends Lh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $r extends Lh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function U0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function fE(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,T2(f,m,n[o]))}return s}function dE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,E2(u,f,e))}return s}class dp extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R2 extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&w2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ll(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ll(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=O0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=L0(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,s)=>hE(n,s))&&Ja(this.baseMutations,e.baseMutations,(n,s)=>hE(n,s))}}class mp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return p2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new mp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function N2(r){switch(r){case X.OK:return ve(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function z0(r){if(r===void 0)return $i("GRPC error has no .code"),X.UNKNOWN;switch(r){case vt.OK:return X.OK;case vt.CANCELLED:return X.CANCELLED;case vt.UNKNOWN:return X.UNKNOWN;case vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case vt.INTERNAL:return X.INTERNAL;case vt.UNAVAILABLE:return X.UNAVAILABLE;case vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case vt.NOT_FOUND:return X.NOT_FOUND;case vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case vt.ABORTED:return X.ABORTED;case vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case vt.DATA_LOSS:return X.DATA_LOSS;default:return ve(39323,{code:r})}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new Ur([4294967295,4294967295],0);function mE(r){const e=O2().encode(r),n=new JT;return n.update(e),new Uint8Array(n.digest())}function pE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ur([n,s],0),new Ur([o,u],0)]}class pp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ur.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ur.fromNumber(s)));return o.compare(V2)===1&&(o=new Ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mE(e),[s,o]=pE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new pp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=mE(e),[s,o]=pE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Uh(Ae.min(),o,new at(Ve),Wi(),Me())}}class au{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new au(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class B0{constructor(e,n){this.targetId=e,this.Ce=n}}class q0{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class gE{constructor(){this.ve=0,this.Fe=yE(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),s=Me();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}}),new au(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=yE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wi(),this.Je=Bc(),this.He=Bc(),this.Ye=new at(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Cm(u))if(s===0){const f=new me(u.path);this.et(n,f,Wt.newNoDocument(f,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Hr(s).toUint8Array()}catch(y){if(y instanceof h0)return Za("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new pp(f,o,u)}catch(y){return Za(y instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Cm(m.target)){const y=new me(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Wt.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Me();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Uh(e,n,this.Ye,this.je,s);return this.je=Wi(),this.Je=Bc(),this.He=Bc(),this.Ye=new at(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ct(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ct(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new at(me.comparator)}function yE(){return new at(me.comparator)}const x2={asc:"ASCENDING",desc:"DESCENDING"},P2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k2={and:"AND",or:"OR"};class L2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(r,e){return r.useProto3Json||Vh(e)?e:{value:e}}function _h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function U2(r,e){return _h(r,e.toTimestamp())}function hi(r){return He(!!r,49232),Ae.fromTimestamp(function(n){const s=jr(n);return new Ze(s.seconds,s.nanos)}(r))}function gp(r,e){return Vm(r,e).canonicalString()}function Vm(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function H0(r){const e=tt.fromString(r);return He(Y0(e),10190,{key:e.toString()}),e}function Mm(r,e){return gp(r.databaseId,e.path)}function lm(r,e){const n=H0(e);if(n.get(1)!==r.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(G0(n))}function F0(r,e){return gp(r.databaseId,e)}function z2(r){const e=H0(r);return e.length===4?tt.emptyPath():G0(e)}function xm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function G0(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _E(r,e,n){return{name:Mm(r,e),fields:n.value.mapValue.fields}}function B2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Gt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Gt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?X.UNKNOWN:z0(g.code);return new le(E,g.message||"")}(f);n=new q0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lm(r,s.document.name),u=hi(s.document.updateTime),f=s.document.createTime?hi(s.document.createTime):Ae.min(),m=new ln({mapValue:{fields:s.document.fields}}),y=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new th(g,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lm(r,s.document),u=s.readTime?hi(s.readTime):Ae.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lm(r,s.document),u=s.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new D2(o,u),m=s.targetId;n=new B0(m,f)}}return n}function q2(r,e){let n;if(e instanceof su)n={update:_E(r,e.key,e.value)};else if(e instanceof dp)n={delete:Mm(r,e.key)};else if(e instanceof $r)n={update:_E(r,e.key,e.data),updateMask:$2(e.fieldMask)};else{if(!(e instanceof R2))return ve(16599,{Vt:e.type});n={verify:Mm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:U2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)}(r,e.precondition)),n}function j2(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?hi(o.updateTime):hi(u);return f.isEqual(Ae.min())&&(f=hi(u)),new S2(f,o.transformResults||[])}(n,e))):[]}function H2(r,e){return{documents:[F0(r,e.path)]}}function F2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=F0(r,o);const u=function(g){if(g.length!==0)return Q0(Hn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:ja(w.field),direction:Q2(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Om(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function G2(r){let e=z2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const w=K0(S);return w instanceof Hn&&T0(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(w=>function(j){return new Kl(Ha(j.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(S){let w;return w=typeof S=="object"?S.value:S,Vh(w)?null:w}(n.limit));let y=null;n.startAt&&(y=function(S){const w=!!S.before,U=S.values||[];return new ph(U,w)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const w=!S.before,U=S.values||[];return new ph(U,w)}(n.endAt)),c2(e,o,f,u,m,"F",y,g)}function K2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(n.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ha(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}}(r):r.fieldFilter!==void 0?function(n){return Et.create(Ha(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(s=>K0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}}(n.compositeFilter.op))}(r):ve(30097,{filter:r})}function Q2(r){return x2[r]}function Y2(r){return P2[r]}function X2(r){return k2[r]}function ja(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Ft.fromServerFormat(r.fieldPath)}function Q0(r){return r instanceof Et?function(n){if(n.op==="=="){if(sE(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NAN"}};if(rE(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sE(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NAN"}};if(rE(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(n.field),op:Y2(n.op),value:n.value}}}(r):r instanceof Hn?function(n){const s=n.getFilters().map(o=>Q0(o));return s.length===1?s[0]:{compositeFilter:{op:X2(n.op),filters:s}}}(r):ve(54877,{filter:r})}function $2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Y0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Gt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.yt=e}}function Z2(r){const e=G2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Cn=new eD}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(qr.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class eD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X0=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(X0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new no(0)}static cr(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="LruGarbageCollector",tD=1048576;function TE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class nD{constructor(e){this.Ir=e,this.buffer=new Ct(TE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();TE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(EE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?ue(EE,"Ignoring IndexedDB error during garbage collection: ",n):await co(n)}await this.Vr(3e5)})}}class rD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Oh.ce);const s=new nD(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(vE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),Ba()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function sD(r,e){return new rD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.changes=new Gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ll(s.mutation,o,_n.empty(),Ze.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=Ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Dl();return u.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Wi();const f=kl(),m=function(){return kl()}();return n.forEach((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof $r)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Ll(E.mutation,g,E.mutation.getFieldMask(),Ze.now())):f.set(g.key,_n.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>m.set(g,new oD(E,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=kl();let o=new at((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const g=n.get(y);if(g===null)return;let E=s.get(y)||_n.empty();E=m.applyToLocalView(g,E),s.set(y,E);const S=(o.get(m.batchId)||Me()).add(y);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,S=O0();E.forEach(w=>{if(!u.has(w)){const U=L0(n.get(w),s.get(w));U!==null&&S.set(w,U),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Ps());let m=jl,y=u;return f.next(g=>Z.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{y=y.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,y,g,Me())).next(E=>({batchId:m,changes:N0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let o=Dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,y=>{const g=function(S,w){return new fo(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=Dl();return f.forEach((y,g)=>{const E=u.get(y);E!==void 0&&Ll(E.mutation,g,_n.empty(),Ze.now()),Ph(n,g)&&(m=m.insert(y,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:Z2(o.bundledQuery),readTime:hi(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.overlays=new at(me.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ps();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Ps(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ps(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ps(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return Z.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new C2(n,s));let u=this.qr.get(n);u===void 0&&(u=Me(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.Qr=new Ct(Pt.$r),this.Ur=new Ct(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new me(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Me();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Pt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new I2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?op:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ve);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new me(u),0);let m=new Ct(Ve);return this.Zr.forEachWhile(y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Yr)),!0)},f),Z.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.ri=e,this.docs=function(){return new at(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=Wi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Wi();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||jC(qC(E),s)<=0||(o.has(E.key)||Ph(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new mD(this)}getSize(e){return Z.resolve(this.size)}}class mD extends aD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.persistence=e,this.si=new Gs(n=>cp(n),hp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new yp,this.targetCount=0,this.ai=no.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new no(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Oh(0),this.li=!1,this.li=!0,this.hi=new hD,this.referenceDelegate=e(this),this.Pi=new pD(this),this.indexManager=new J2,this.remoteDocumentCache=function(o){return new dD(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new W2(n),this.Ii=new uD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new fD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new gD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return Z.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class gD extends FC{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.Ri=new yp,this.Vi=null}static mi(e){return new _p(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,s=>{const o=me.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.pi=new Gs(s=>QC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sD(this,n)}static mi(e,n){return new vh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return Z.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}br(e,n,s){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return $w()?8:GC(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new yD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ba()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ba()<=Oe.DEBUG&&ue("QueryEngine","Query:",qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ba()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):Z.resolve())}ys(e,n){if(uE(n))return Z.resolve(null);let s=ci(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Nm(n,null,"F"),s=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const g=this.Ds(n,m);return this.Cs(n,g,f,y.readTime)?this.ys(e,Nm(n,null,"F")):this.vs(e,g,n,y)}))})))}ws(e,n,s,o){return uE(n)||o.isEqual(Ae.min())?Z.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?Z.resolve(null):(Ba()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(n)),this.vs(e,f,n,BC(o,jl)).next(m=>m))})}Ds(e,n){let s=new Ct(C0(e));return n.forEach((o,u)=>{Ph(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ba()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ps.getDocumentsMatchingQuery(e,n,qr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="LocalStore",vD=3e8;class ED{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new at(Ve),this.xs=new Gs(u=>cp(u),hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function TD(r,e,n,s){return new ED(r,e,n,s)}async function W0(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let y=Me();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function AD(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,g,E){const S=g.batch,w=S.keys();let U=Z.resolve();return w.forEach(j=>{U=U.next(()=>E.getEntry(y,j)).next($=>{const F=g.docVersions.get(j);He(F!==null,48541),$.version.compareTo(F)<0&&(S.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),U.next(()=>m.mutationQueue.removeMutationBatch(y,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Me();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Z0(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function SD(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S)));let U=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?U=U.withResumeToken(Gt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(S,U),function($,F,J){return $.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=vD?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(w,U,E)&&m.push(n.Pi.updateTargetData(u,U))});let y=Wi(),g=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(wD(u,f,e.documentUpdates).next(E=>{y=E.ks,g=E.qs})),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,g)).next(()=>y)}).then(u=>(n.Ms=o,u))}function wD(r,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Wi();return n.forEach((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ue(Ep,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)}),{ks:f,qs:o}})}function bD(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=op),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function RD(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new xr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Pm(r,e,n){const s=Se(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ho(f))throw f;ue(Ep,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function AE(r,e,n){const s=Se(r);let o=Ae.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,g,E){const S=Se(y),w=S.xs.get(E);return w!==void 0?Z.resolve(S.Ms.get(w)):S.Pi.getTargetData(g,E)}(s,f,ci(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{u=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Me())).next(m=>(ID(s,f2(e),m),{documents:m,Qs:u})))}function ID(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class SE{constructor(){this.activeTargetIds=_2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CD{constructor(){this.Mo=new SE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new SE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="ConnectivityMonitor";class bE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(wE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(wE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function km(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=km(),m=this.zo(e,n.toUriEncodedString());ue(um,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(m),E=ao(g);return this.Jo(e,m,y,s,E).then(S=>(ue(um,`Received RPC '${e}' ${f}: `,S),S),S=>{throw Za(um,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=ND[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class MD extends OD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=km();return new Promise((m,y)=>{const g=new e0;g.setWithCredentials(!0),g.listenOnce(t0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Wc.NO_ERROR:const S=g.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Wc.TIMEOUT:ue(Xt,`RPC '${e}' ${f} timed out`),y(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const w=g.getStatus();if(ue(Xt,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const j=U?.error;if(j&&j.status&&j.message){const $=function(J){const oe=J.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(oe)>=0?oe:X.UNKNOWN}(j.status);y(new le($,j.message))}else y(new le(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new le(X.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ue(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(e,n,s){const o=km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=r0(),m=i0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=f.createWebChannel(E,y);this.I_(S);let w=!1,U=!1;const j=new VD({Yo:F=>{U?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(w||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Zo:()=>S.close()}),$=(F,J,oe)=>{F.listen(J,re=>{try{oe(re)}catch(we){setTimeout(()=>{throw we},0)}})};return $(S,Cl.EventType.OPEN,()=>{U||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),j.o_())}),$(S,Cl.EventType.CLOSE,()=>{U||(U=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(S))}),$(S,Cl.EventType.ERROR,F=>{U||(U=!0,Za(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),j.a_(new le(X.UNAVAILABLE,"The operation could not be completed")))}),$(S,Cl.EventType.MESSAGE,F=>{if(!U){const J=F.data[0];He(!!J,16349);const oe=J,re=oe?.error||oe[0]?.error;if(re){ue(Xt,`RPC '${e}' stream ${o} received error:`,re);const we=re.status;let fe=function(b){const I=vt[b];if(I!==void 0)return z0(I)}(we),xe=re.message;fe===void 0&&(fe=X.INTERNAL,xe="Unknown error status: "+we+" with message "+re.message),U=!0,j.a_(new le(fe,xe)),S.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,J),j.u_(J)}}),$(m,n0.STAT_EVENT,F=>{F.stat===Sm.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Sm.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(r){return new L2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="PersistentStream";class eA{constructor(e,n,s,o,u,f,m,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new le(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(RE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xD extends eA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?hi(f.readTime):Ae.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xm(this.serializer),n.addTarget=function(u,f){let m;const y=f.target;if(m=Cm(y)?{documents:H2(u,y)}:{query:F2(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=j0(u,f.resumeToken);const g=Om(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const g=Om(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=K2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xm(this.serializer),n.removeTarget=e,this.q_(n)}}class PD extends eA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=j2(e.writeResults,e.commitTime),s=hi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>q2(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{}class LD extends kD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Vm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(X.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Vm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(X.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class UD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="RemoteStore";class zD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ks(this)&&(ue(js,"Restarting streams for network reachability change."),await async function(y){const g=Se(y);g.Ea.add(4),await ou(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Bh(g)}(this))})}),this.Ra=new UD(s,o)}}async function Bh(r){if(Ks(r))for(const e of r.da)await e(!0)}async function ou(r){for(const e of r.da)await e(!1)}function tA(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wp(n)?Sp(n):mo(n).O_()&&Ap(n,e))}function Tp(r,e){const n=Se(r),s=mo(n);n.Ia.delete(e),s.O_()&&nA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ks(n)&&n.Ra.set("Unknown"))}function Ap(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(r).Y_(e)}function nA(r,e){r.Va.Ue(e),mo(r).Z_(e)}function Sp(r){r.Va=new M2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Ra.ua()}function wp(r){return Ks(r)&&!mo(r).x_()&&r.Ia.size>0}function Ks(r){return Se(r).Ea.size===0}function iA(r){r.Va=void 0}async function BD(r){r.Ra.set("Online")}async function qD(r){r.Ia.forEach((e,n)=>{Ap(r,e)})}async function jD(r,e){iA(r),wp(r)?(r.Ra.ha(e),Sp(r)):r.Ra.set("Unknown")}async function HD(r,e,n){if(r.Ra.set("Online"),e instanceof q0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){ue(js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Eh(r,s)}else if(e instanceof th?r.Va.Ze(e):e instanceof B0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Z0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),nA(u,y);const S=new xr(E.target,y,g,E.sequenceNumber);Ap(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(js,"Failed to raise snapshot:",s),await Eh(r,s)}}async function Eh(r,e,n){if(!ho(e))throw e;r.Ea.add(1),await ou(r),r.Ra.set("Offline"),n||(n=()=>Z0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(js,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Bh(r)})}function rA(r,e){return e().catch(n=>Eh(r,n,e))}async function qh(r){const e=Se(r),n=Gr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:op;for(;FD(e);)try{const o=await bD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,GD(e,o)}catch(o){await Eh(e,o)}sA(e)&&aA(e)}function FD(r){return Ks(r)&&r.Ta.length<10}function GD(r,e){r.Ta.push(e);const n=Gr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function sA(r){return Ks(r)&&!Gr(r).x_()&&r.Ta.length>0}function aA(r){Gr(r).start()}async function KD(r){Gr(r).ra()}async function QD(r){const e=Gr(r);for(const n of r.Ta)e.ea(n.mutations)}async function YD(r,e,n){const s=r.Ta.shift(),o=mp.from(s,e,n);await rA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await qh(r)}async function XD(r,e){e&&Gr(r).X_&&await async function(s,o){if(function(f){return N2(f)&&f!==X.ABORTED}(o.code)){const u=s.Ta.shift();Gr(s).B_(),await rA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await qh(s)}}(r,e),sA(r)&&aA(r)}async function IE(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ue(js,"RemoteStore received new credentials");const s=Ks(n);n.Ea.add(3),await ou(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bh(n)}async function $D(r,e){const n=Se(r);e?(n.Ea.delete(2),await Bh(n)):e||(n.Ea.add(2),await ou(n),n.Ra.set("Unknown"))}function mo(r){return r.ma||(r.ma=function(n,s,o){const u=Se(n);return u.sa(),new xD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:BD.bind(null,r),t_:qD.bind(null,r),r_:jD.bind(null,r),H_:HD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),wp(r)?Sp(r):r.Ra.set("Unknown")):(await r.ma.stop(),iA(r))})),r.ma}function Gr(r){return r.fa||(r.fa=function(n,s,o){const u=Se(n);return u.sa(),new PD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KD.bind(null,r),r_:XD.bind(null,r),ta:QD.bind(null,r),na:YD.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await qh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new bp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rp(r,e){if($i("AsyncQueue",`${e}: ${r}`),ho(r))return new le(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Dl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ya;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.ga=new at(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class io{constructor(e,n,s,o,u,f,m,y,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new io(e,n,Ya.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ZD{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=DE(),u.forEach((f,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new le(X.ABORTED,"Firestore shutting down"))}}function DE(){return new Gs(r=>I0(r),xh)}async function JD(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new WD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Rp(f,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ip(n)}async function eN(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tN(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Ip(n)}function nN(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Ip(r){r.Ca.forEach(e=>{e.next()})}var Lm,NE;(NE=Lm||(Lm={})).Ma="default",NE.Cache="cache";class iN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.key=e}}class lA{constructor(e){this.key=e}}class rN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=C0(e),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new CE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const w=o.get(E),U=Ph(this.query,S)?S:null,j=!!w&&this.mutatedKeys.has(w.key),$=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let F=!1;w&&U?w.data.isEqual(U.data)?j!==$&&(s.track({type:3,doc:U}),F=!0):this.su(w,U)||(s.track({type:2,doc:U}),F=!0,(y&&this.eu(U,y)>0||g&&this.eu(U,g)<0)&&(m=!0)):!w&&U?(s.track({type:0,doc:U}),F=!0):w&&!U&&(s.track({type:1,doc:w}),F=!0,(y||g)&&(m=!0)),F&&(U?(f=f.add(U),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,S)=>function(U,j){const $=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:F})}};return $(U)-$(j)}(E.type,S.type)||this.eu(E.doc,S.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,f.length!==0||g?{snapshot:new io(this.query,e.tu,u,f,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new lA(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new oA(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cp="SyncEngine";class sN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class aN{constructor(e){this.key=e,this.hu=!1}}class oN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Gs(m=>I0(m),xh),this.Iu=new Map,this.Eu=new Set,this.du=new at(me.comparator),this.Au=new Map,this.Ru=new yp,this.Vu={},this.mu=new Map,this.fu=no.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lN(r,e,n=!0){const s=mA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await uA(s,e,n,!0),o}async function uN(r,e){const n=mA(r);await uA(n,e,!0,!1)}async function uA(r,e,n,s){const o=await RD(r.localStore,ci(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await cN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&tA(r.remoteStore,o),m}async function cN(r,e,n,s,o){r.pu=(S,w,U)=>async function($,F,J,oe){let re=F.view.ru(J);re.Cs&&(re=await AE($.localStore,F.query,!1).then(({documents:V})=>F.view.ru(V,re)));const we=oe&&oe.targetChanges.get(F.targetId),fe=oe&&oe.targetMismatches.get(F.targetId)!=null,xe=F.view.applyChanges(re,$.isPrimaryClient,we,fe);return VE($,F.targetId,xe.au),xe.snapshot}(r,S,w,U);const u=await AE(r.localStore,e,!0),f=new rN(e,u.Qs),m=f.ru(u.documents),y=au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,y);VE(r,n,g.au);const E=new sN(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function hN(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!xh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Tp(s.remoteStore,o.targetId),Um(s,o.targetId)}).catch(co)):(Um(s,o.targetId),await Pm(s.localStore,o.targetId,!0))}async function fN(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Tp(n.remoteStore,s.targetId))}async function dN(r,e,n){const s=EN(r);try{const o=await function(f,m){const y=Se(f),g=Ze.now(),E=m.reduce((U,j)=>U.add(j.key),Me());let S,w;return y.persistence.runTransaction("Locally write mutations","readwrite",U=>{let j=Wi(),$=Me();return y.Ns.getEntries(U,E).next(F=>{j=F,j.forEach((J,oe)=>{oe.isValidDocument()||($=$.add(J))})}).next(()=>y.localDocuments.getOverlayedDocuments(U,j)).next(F=>{S=F;const J=[];for(const oe of m){const re=b2(oe,S.get(oe.key).overlayedDocument);re!=null&&J.push(new $r(oe.key,re,_0(re.value.mapValue),qn.exists(!0)))}return y.mutationQueue.addMutationBatch(U,g,J,m)}).next(F=>{w=F;const J=F.applyToLocalDocumentSet(S,$);return y.documentOverlayCache.saveOverlays(U,F.batchId,J)})}).then(()=>({batchId:w.batchId,changes:N0(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new at(Ve)),g=g.insert(m,y),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await lu(s,o.changes),await qh(s.remoteStore)}catch(o){const u=Rp(o,"Failed to persist write");n.reject(u)}}async function cA(r,e){const n=Se(r);try{const s=await SD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))}),await lu(n,s,e)}catch(s){await co(s)}}function OE(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Se(f);y.onlineState=m;let g=!1;y.queries.forEach((E,S)=>{for(const w of S.Sa)w.va(m)&&(g=!0)}),g&&Ip(y)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mN(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new at(me.comparator);f=f.insert(u,Wt.newNoDocument(u,Ae.min()));const m=Me().add(u),y=new Uh(Ae.min(),new Map,new at(Ve),f,m);await cA(s,y),s.du=s.du.remove(u),s.Au.delete(e),Dp(s)}else await Pm(s.localStore,e,!1).then(()=>Um(s,e,n)).catch(co)}async function pN(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await AD(n.localStore,e);fA(n,s,null),hA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await lu(n,o)}catch(o){await co(o)}}async function gN(r,e,n){const s=Se(r);try{const o=await function(f,m){const y=Se(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next(S=>(He(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(g,S))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>y.localDocuments.getDocuments(g,E))})}(s.localStore,e);fA(s,e,n),hA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await lu(s,o)}catch(o){await co(o)}}function hA(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function fA(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Um(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||dA(r,s)})}function dA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Tp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Dp(r))}function VE(r,e,n){for(const s of n)s instanceof oA?(r.Ru.addReference(s.key,e),yN(r,s)):s instanceof lA?(ue(Cp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||dA(r,s.key)):ve(19791,{wu:s})}function yN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(Cp,"New document in limbo: "+n),r.Eu.add(s),Dp(r))}function Dp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new aN(n)),r.du=r.du.insert(n,s),tA(r.remoteStore,new xr(ci(b0(n.path)),s,"TargetPurposeLimboResolution",Oh.ce))}}async function lu(r,e,n){const s=Se(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{f.push(s.pu(y,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=vp.As(y.targetId,g);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(y,g){const E=Se(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(g,w=>Z.forEach(w.Es,U=>E.persistence.referenceDelegate.addReference(S,w.targetId,U)).next(()=>Z.forEach(w.ds,U=>E.persistence.referenceDelegate.removeReference(S,w.targetId,U)))))}catch(S){if(!ho(S))throw S;ue(Ep,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const U=E.Ms.get(w),j=U.snapshotVersion,$=U.withLastLimboFreeSnapshotVersion(j);E.Ms=E.Ms.insert(w,$)}}}(s.localStore,u))}async function _N(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ue(Cp,"User change. New user:",e.toKey());const s=await W0(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(y=>{y.reject(new le(X.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lu(n,s.Ls)}}function vN(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let o=Me();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function mA(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=cA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mN.bind(null,e),e.Pu.H_=tN.bind(null,e.eventManager),e.Pu.yu=nN.bind(null,e.eventManager),e}function EN(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gN.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TD(this.persistence,new _D,e.initialUser,this.serializer)}Cu(e){return new $0(_p.mi,this.serializer)}Du(e){return new CD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class TN extends Th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new $0(s=>vh.mi(s,n),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_N.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZD}()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),s=function(u){return new MD(u)}(e.databaseInfo);return function(u,f,m,y){return new LD(u,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new zD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>OE(this.syncEngine,n,0),function(){return bE.v()?new bE:new DD}())}createSyncEngine(e,n){return function(o,u,f,m,y,g,E){const S=new oN(o,u,f,m,y,g);return E&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Se(n);ue(js,"RemoteStore shutting down."),s.Ea.add(5),await ou(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="FirestoreClient";class SN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Kr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Kr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Rp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function hm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Kr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await W0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function ME(r,e){r.asyncQueue.verifyOperationInProgress();const n=await wN(r);ue(Kr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>IE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>IE(e.remoteStore,o)),r._onlineComponents=e}async function wN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Kr,"Using user provided OfflineComponentProvider");try{await hm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await hm(r,new Th)}}else ue(Kr,"Using default OfflineComponentProvider"),await hm(r,new TN(void 0));return r._offlineComponents}async function pA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Kr,"Using user provided OnlineComponentProvider"),await ME(r,r._uninitializedComponentsProvider._online)):(ue(Kr,"Using default OnlineComponentProvider"),await ME(r,new zm))),r._onlineComponents}function bN(r){return pA(r).then(e=>e.syncEngine)}async function RN(r){const e=await pA(r),n=e.eventManager;return n.onListen=lN.bind(null,e.syncEngine),n.onUnlisten=hN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fN.bind(null,e.syncEngine),n}function IN(r,e,n={}){const s=new zr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,g){const E=new AN({next:w=>{E.Nu(),f.enqueueAndForget(()=>eN(u,S)),w.fromCache&&y.source==="server"?g.reject(new le(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new iN(m,E,{includeMetadataChanges:!0,qa:!0});return JD(u,S)}(await RN(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firestore.googleapis.com",PE=!0;class kE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=PE}else this.host=e.host,this.ssl=e.ssl??PE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tD)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new DC;switch(s.type){case"firstParty":return new MC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=xE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),xE.delete(n),s.terminate())}(this),Promise.resolve()}}function CN(r,e,n,s={}){r=qs(r,jh);const o=ao(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(hT(`https://${m}`),fT("Firestore",!0)),u.host!==yA&&u.host!==m&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!ks(y,f)&&(r._setSettings(y),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=$t.MOCK_USER;else{g=qw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(S)}r._authCredentials=new NC(new a0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class It{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ru(n,It._jsonSchema))return new It(e,s||null,new me(tt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Tt("string",It._jsonSchemaVersion),referencePath:Tt("string")};class Br extends Qs{constructor(e,n,s){super(e,n,b0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new me(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function LE(r,e,...n){if(r=kt(r),o0("collection","path",e),r instanceof jh){const s=tt.fromString(e,...n);return Xv(s),new Br(r,null,s)}{if(!(r instanceof It||r instanceof Br))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return Xv(s),new Br(r.firestore,null,s)}}function Bm(r,e,...n){if(r=kt(r),arguments.length===1&&(e=ap.newId()),o0("doc","path",e),r instanceof jh){const s=tt.fromString(e,...n);return Yv(s),new It(r,null,new me(s))}{if(!(r instanceof It||r instanceof Br))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return Yv(s),new It(r.firestore,r instanceof Br?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J0(this,"async_queue_retry"),this._c=()=>{const s=cm();s&&ue(UE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new zr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ho(e))throw e;ue(UE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",BE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=bp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:BE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class uu extends jh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new zE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function DN(r,e){const n=typeof r=="object"?r:gT(),s=typeof r=="string"?r:dh,o=$m(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=zw("firestore");u&&CN(o,...u)}return o}function _A(r){if(r._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||NN(r),r._firestoreClient}function NN(r){const e=r._freezeSettings(),n=function(o,u,f,m){return new $C(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,gA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new SN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Gt.fromBase64String(e))}catch(n){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Tt("string",Mn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(e){if(ru(e,fi._jsonSchema))return new fi(e.latitude,e.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:Tt("string",fi._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new di(e.vectorValues);throw new le(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Tt("string",di._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=/^__.*__$/;class VN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class vA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new $r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Op{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(EA(this.Ac)&&ON.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zh(e)}Cc(e,n,s,o=!1){return new Op({Ac:e,methodName:n,Dc:s,path:Ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vp(r){const e=r._freezeSettings(),n=zh(r._databaseId);return new MN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function xN(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Mp("Data must be an object, but it was:",f,s);const m=TA(s,f);let y,g;if(u.merge)y=new _n(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=qm(e,S,n);if(!f.contains(w))throw new le(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);SA(E,w)||E.push(w)}y=new _n(E),g=f.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,g=f.fieldTransforms;return new VN(new ln(m),y,g)}class Fh extends Np{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}function PN(r,e,n,s){const o=r.Cc(1,e,n);Mp("Data must be an object, but it was:",o,s);const u=[],f=ln.empty();Xr(s,(y,g)=>{const E=xp(e,y,n);g=kt(g);const S=o.yc(E);if(g instanceof Fh)u.push(E);else{const w=cu(g,S);w!=null&&(u.push(E),f.set(E,w))}});const m=new _n(u);return new vA(f,m,o.fieldTransforms)}function kN(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[qm(e,s,n)],y=[o];if(u.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(qm(e,u[w])),y.push(u[w+1]);const g=[],E=ln.empty();for(let w=m.length-1;w>=0;--w)if(!SA(g,m[w])){const U=m[w];let j=y[w];j=kt(j);const $=f.yc(U);if(j instanceof Fh)g.push(U);else{const F=cu(j,$);F!=null&&(g.push(U),E.set(U,F))}}const S=new _n(g);return new vA(E,S,f.fieldTransforms)}function LN(r,e,n,s=!1){return cu(n,r.Cc(s?4:3,e))}function cu(r,e){if(AA(r=kt(r)))return Mp("Unsupported field value:",e,r),TA(r,e);if(r instanceof Np)return function(s,o){if(!EA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let y=cu(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return v2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ze.fromDate(s);return{timestampValue:_h(o.serializer,u)}}if(s instanceof Ze){const u=new Ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(s instanceof fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:j0(o.serializer,s._byteString)};if(s instanceof It){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof di)return function(f,m){return{mapValue:{fields:{[g0]:{stringValue:y0},[mh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return fp(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Nh(s)}`)}(r,e)}function TA(r,e){const n={};return c0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(r,(s,o)=>{const u=cu(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function AA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ze||r instanceof fi||r instanceof Mn||r instanceof It||r instanceof Np||r instanceof di)}function Mp(r,e,n){if(!AA(n)||!l0(n)){const s=Nh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function qm(r,e,n){if((e=kt(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return xp(r,e);throw Ah("Field path arguments must be of type string or ",r,!1,void 0,n)}const UN=new RegExp("[~\\*/\\[\\]]");function xp(r,e,n){if(e.search(UN)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Hh(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ah(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new le(X.INVALID_ARGUMENT,m+r+y)}function SA(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zN extends wA{data(){return super.data()}}function Pp(r,e){return typeof e=="string"?xp(r,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class bA extends kp{}function qN(r,e,...n){let s=[];e instanceof kp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(y=>y instanceof Up).length,m=u.filter(y=>y instanceof Lp).length;if(f>1||f>0&&m>0)throw new le(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Lp extends bA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Lp(e,n,s)}_apply(e){const n=this._parse(e);return RA(e._query,n),new Qs(e.firestore,e.converter,Dm(e._query,n))}_parse(e){const n=Vp(e.firestore);return function(u,f,m,y,g,E,S){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){jE(S,E);const j=[];for(const $ of S)j.push(qE(y,u,$));w={arrayValue:{values:j}}}else w=qE(y,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||jE(S,E),w=LN(m,f,S,E==="in"||E==="not-in");return Et.create(g,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Up extends kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Up(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)RA(f,y),f=Dm(f,y)}(e._query,n),new Qs(e.firestore,e.converter,Dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zp extends bA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zp(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(u,f)}(e._query,this._field,this._direction);return new Qs(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new fo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function jN(r,e="asc"){const n=e,s=Pp("orderBy",r);return zp._create(s,n)}function qE(r,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new le(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R0(e)&&n.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return iE(r,new me(s))}if(n instanceof It)return iE(r,n._key);throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(n)}.`)}function jE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RA(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HN{convertValue(e,n="none"){switch(Fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Xr(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[mh].arrayValue?.values?.map(s=>mt(s.doubleValue));return new di(n)}convertGeoPoint(e){return new fi(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=jr(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);He(Y0(s),9688,{name:e});const o=new Fl(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||$i(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends wA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Pp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:Tt("string",Xa._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class nh extends Xa{data(e={}){return super.data(e)}}class $a{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new nh(this._firestore,this._userDataWriter,s.key,s,new jc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:GN(m.type),doc:y,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Tt("string",$a._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class KN extends HN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function QN(r){r=qs(r,Qs);const e=qs(r.firestore,uu),n=_A(e),s=new KN(e);return BN(r._query),IN(n,r._query).then(o=>new $a(e,s,r,o))}function YN(r,e,n,...s){r=qs(r,It);const o=qs(r.firestore,uu),u=Vp(o);let f;return f=typeof(e=kt(e))=="string"||e instanceof Hh?kN(u,"updateDoc",r._key,e,n,s):PN(u,"updateDoc",r._key,e),Bp(o,[f.toMutation(r._key,qn.exists(!0))])}function XN(r){return Bp(qs(r.firestore,uu),[new dp(r._key,qn.none())])}function $N(r,e){const n=qs(r.firestore,uu),s=Bm(r),o=FN(r.converter,e);return Bp(n,[xN(Vp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then(()=>s)}function Bp(r,e){return function(s,o){const u=new zr;return s.asyncQueue.enqueueAndForget(async()=>dN(await bN(s),o,u)),u.promise}(_A(r),e)}(function(e,n=!0){(function(o){uo=o})(oo),Wa(new Ls("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new uu(new OC(s.getProvider("auth-internal")),new xC(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Lr(Fv,Gv,e),Lr(Fv,Gv,"esm2020")})();var WN="firebase",ZN="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(WN,ZN,"app");const JN={apiKey:"AIzaSyBeixVQZimO8aAKafs5AqgyeNlpizFN8eE",authDomain:"todosite-7e3af.firebaseapp.com",projectId:"todosite-7e3af",storageBucket:"todosite-7e3af.firebasestorage.app",messagingSenderId:"535476183262",appId:"1:535476183262:web:d4abf98abef23ecac9a24f",measurementId:"G-WMX43Z90QY"},IA=pT(JN),Sh=IC(IA),Hc=DN(IA),qp=()=>{const[r,e]=G.useState([]),[n,s]=G.useState(!0),[o,u]=G.useState(null);return G.useEffect(()=>pI(Sh,S=>{console.log("Auth state changed:",S?.uid),u(S),S||(e([]),s(!1))}),[]),G.useEffect(()=>{(async()=>{if(!o){e([]),s(!1);return}try{console.log("Loading todos for user:",o.uid),s(!0);const S=qN(LE(Hc,"users",o.uid,"todos"),jN("createdAt","desc")),U=(await QN(S)).docs.map(j=>({id:j.id,...j.data(),createdAt:j.data().createdAt.toDate()}));console.log("Loaded todos:",U),e(U)}catch(S){console.error("  todos:",S)}finally{s(!1)}})()},[o]),{todos:r,loading:n,addTodo:async E=>{if(!o||!E.trim())return;const S={title:E,completed:!1,userId:o.uid,createdAt:Ze.now()},U={id:(await $N(LE(Hc,"users",o.uid,"todos"),S)).id,...S,createdAt:new Date};e(j=>[U,...j])},toggleTodo:async(E,S)=>{if(!o)return;const w=Bm(Hc,"users",o.uid,"todos",E);await YN(w,{completed:S,updatedAt:Ze.now()}),e(U=>U.map(j=>j.id===E?{...j,completed:S}:j))},removeTodo:async E=>{if(!o)return;const S=Bm(Hc,"users",o.uid,"todos",E);await XN(S),e(w=>w.filter(U=>U.id!==E))},user:o,exitUser:async()=>{await gI(Sh),u(null)}}},eO=()=>{const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(!1),[f,m]=G.useState(""),[y,g]=G.useState(!1),{user:E}=qp(),S=async w=>{w.preventDefault(),g(!0),u(!1);try{await fI(Sh,r,n),m(" !")}catch{u(!0),m(" ")}finally{g(!1)}};return ne.jsxs(ne.Fragment,{children:[ne.jsx("section",{className:"m-auto max-w-200 ",children:ne.jsxs("div",{className:"pt-3 pb-3 mt-10 bg-[#e1e1e1] border-1 border-[#81818189] rounded-xl",children:[ne.jsx("h1",{className:"flex justify-center ",children:E?"   ":""}),ne.jsxs("form",{onSubmit:S,className:"mt-5 px-5",children:[ne.jsx("input",{type:"text",id:"todo",value:r,onChange:w=>e(w.target.value),className:`\r
                                    px-4 py-3\r
                                    border-2 border-[#81818189]\r
                                    rounded-lg\r
                                    text-base\r
                                    transition-all duration-200\r
                                    focus:outline-none\r
                                    focus:border-blue-500\r
                                    placeholder-[#818181f9]\r
                                    w-full\r
                                    `,placeholder:"",required:!0}),ne.jsx("input",{type:"password",id:"todo",value:n,onChange:w=>s(w.target.value),className:`\r
                                    px-4 py-3 mt-3\r
                                    border-2 border-[#81818189]\r
                                    rounded-lg\r
                                    text-base\r
                                    transition-all duration-200\r
                                    focus:outline-none\r
                                    focus:border-blue-500\r
                                    placeholder-[#818181f9]\r
                                    w-full\r
                                    `,placeholder:"",required:!0}),ne.jsx("button",{type:"submit",className:"flex w-auto h-[40px] bg-[#19ff0d89] items-center justify-center cursor-pointer text-[16px] mt-3 px-3",children:y?"...":""})]})]})}),ne.jsx("div",{className:"flex justify-center",children:ne.jsx("div",{className:o?"text-red-500":"text-green-500",children:ne.jsxs("p",{className:"text-2xl",children:[" ",f]})})})]})},tO=()=>{const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(!1),[f,m]=G.useState(""),[y,g]=G.useState(!1),E=async S=>{S.preventDefault(),g(!0),u(!1),m("");try{await hI(Sh,r,n),m("  !  !"),u(!1)}catch{u(!0),m(" ")}finally{g(!1)}};return ne.jsxs(ne.Fragment,{children:[ne.jsx("section",{className:"m-auto max-w-200 ",children:ne.jsxs("div",{className:"pt-3 pb-3 mt-10 bg-[#e1e1e1] border-1 border-[#81818189] rounded-xl",children:[ne.jsx("h1",{className:"flex justify-center ",children:""}),ne.jsxs("form",{onSubmit:E,className:"mt-5 px-5",children:[ne.jsx("input",{type:"text",id:"todo",value:r,onChange:S=>e(S.target.value),className:`\r
                                    px-4 py-3\r
                                    border-2 border-[#81818189]\r
                                    rounded-lg\r
                                    text-base\r
                                    transition-all duration-200\r
                                    focus:outline-none\r
                                    focus:border-blue-500\r
                                    placeholder-[#818181f9]\r
                                    w-full\r
                                    `,placeholder:"",required:!0}),ne.jsx("input",{type:"text",id:"todo",value:n,onChange:S=>s(S.target.value),className:`\r
                                    px-4 py-3 mt-3\r
                                    border-2 border-[#81818189]\r
                                    rounded-lg\r
                                    text-base\r
                                    transition-all duration-200\r
                                    focus:outline-none\r
                                    focus:border-blue-500\r
                                    placeholder-[#818181f9]\r
                                    w-full\r
                                    `,placeholder:"",required:!0,minLength:6}),ne.jsx("button",{type:"submit",className:"flex w-auto h-[40px] bg-[#19ff0d89] items-center justify-center cursor-pointer text-[16px] mt-3 px-3",children:y?"...":""})]})]})}),ne.jsx("div",{className:"flex justify-center",children:ne.jsx("div",{className:o?"text-red-500":"text-green-500",children:ne.jsxs("p",{className:"text-2xl",children:[" ",f]})})})]})},nO="data:image/svg+xml,%3csvg%20class=''%20aria-hidden='true'%20data-prefix='fas'%20data-icon='times'%20role='img'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20384%20512'%20data-fa-i2svg=''%3e%3cpath%20fill='%23d21818'%20d='M323.1%20441l53.9-53.9c9.4-9.4%209.4-24.5%200-33.9L279.8%20256l97.2-97.2c9.4-9.4%209.4-24.5%200-33.9L323.1%2071c-9.4-9.4-24.5-9.4-33.9%200L192%20168.2%2094.8%2071c-9.4-9.4-24.5-9.4-33.9%200L7%20124.9c-9.4%209.4-9.4%2024.5%200%2033.9l97.2%2097.2L7%20353.2c-9.4%209.4-9.4%2024.5%200%2033.9L60.9%20441c9.4%209.4%2024.5%209.4%2033.9%200l97.2-97.2%2097.2%2097.2c9.3%209.3%2024.5%209.3%2033.9%200z'%3e%3c/path%3e%3c/svg%3e",iO="data:image/svg+xml,%3csvg%20class=''%20aria-hidden='true'%20data-prefix='fas'%20data-icon='check'%20role='img'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%20data-fa-i2svg=''%3e%3cpath%20fill='%23068f06'%20d='M173.898%20439.404l-166.4-166.4c-9.997-9.997-9.997-26.206%200-36.204l36.203-36.204c9.997-9.998%2026.207-9.998%2036.204%200L192%20312.69%20432.095%2072.596c9.997-9.997%2026.207-9.997%2036.204%200l36.203%2036.204c9.997%209.997%209.997%2026.206%200%2036.204l-294.4%20294.401c-9.998%209.997-26.207%209.997-36.204-.001z'%3e%3c/path%3e%3c/svg%3e",rO=()=>{const[r,e]=G.useState(""),{todos:n,loading:s,addTodo:o,toggleTodo:u,removeTodo:f,user:m}=qp();if(!m)return ne.jsx("section",{className:"container",children:ne.jsxs("div",{className:"text-center py-10",children:[ne.jsx("h2",{className:"text-2xl mb-4",children:"  "}),ne.jsx("p",{children:"   "})]})});const y=()=>{r.trim()&&(o(r),e(""))};return s?ne.jsx("section",{className:"container",children:ne.jsx("div",{className:"flex justify-center items-center h-64",children:ne.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):ne.jsx(ne.Fragment,{children:ne.jsxs("section",{className:"container",children:[ne.jsx("h1",{className:"text-5xl",children:"ToDo "}),ne.jsxs("div",{className:"mt-5",children:[ne.jsx("div",{className:"bg-[#d6d6d6] border-t-1 border-r-1 border-l-1 border-[#81818189] rounded-t-xl",children:ne.jsx("p",{className:"p-5",children:"  "})}),ne.jsx("div",{className:"bg-[#e1e1e1] border-1 border-[#81818189] rounded-b-xl",children:ne.jsxs("div",{className:"w-full",children:[ne.jsx("div",{className:"p-5",children:ne.jsx("input",{type:"text",value:r,onChange:g=>e(g.target.value),onKeyDown:g=>g.key==="Enter"&&y(),className:`\r
                                    px-4 py-3\r
                                    border-2 border-[#81818189]\r
                                    rounded-lg\r
                                    text-base\r
                                    transition-all duration-200\r
                                    focus:outline-none\r
                                    focus:border-blue-500\r
                                    placeholder-[#818181f9]\r
                                    w-full\r
                                    `,placeholder:"  ..."})}),ne.jsx("button",{onClick:y,className:"py-3 px-9 text-1xl rounded-md bg-[#1B7DFF] ml-5 mb-5 text-white cursor-pointer",children:""})]})})]}),ne.jsx("h2",{className:"mt-5 text-3xl",children:" "}),ne.jsx("div",{className:"mt-5",children:ne.jsx("div",{className:"bg-[#e1e1e1] border-1 border-[#81818189] rounded-xl",children:ne.jsx("div",{className:"p-5",children:n.length===0?ne.jsx("p",{style:{textAlign:"center",color:"#666"},children:" .  !"}):n.map(g=>ne.jsxs("div",{className:"flex mb-3 border-[#81818189] border-1 items-center",children:[ne.jsx("span",{className:`flex-1 pl-1  pt-0.5 ${g.completed?"text-gray-500 line-through":"text-black"} break-words`,children:g.title}),ne.jsx("button",{onClick:()=>u(g.id,!g.completed),className:"flex text-white w-[30px] h-[30px] bg-[#c9c9c989] items-center justify-center cursor-pointer text-[16px] ",children:ne.jsx("img",{src:iO,alt:"Accept",className:"w-[20px] h-[20px]"})}),ne.jsx("button",{onClick:()=>f(g.id),className:"flex w-[30px] h-[30px] bg-[#c9c9c989] items-center justify-center cursor-pointer text-[16px] ml-1",children:ne.jsx("img",{src:nO,alt:"Delete",className:"w-[20px] h-[20px]"})})]},g.id))})})}),n.length>0&&ne.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[" : ",n.length," | : ",n.filter(g=>g.completed).length]})]})})};function sO(){const{user:r,exitUser:e}=qp();return ne.jsx(ne.Fragment,{children:ne.jsx(Tw,{children:ne.jsxs("div",{children:[ne.jsx("div",{className:"bg-gray-500 text-white p-4",children:ne.jsxs("nav",{className:"container  flex justify-between",children:[ne.jsx("ul",{className:"flex space-x-4",children:ne.jsx("li",{children:ne.jsx(Ol,{to:"/ToDoSite",className:"hover:underline",children:""})})}),ne.jsx("ul",{className:"flex w-auto",children:r?ne.jsxs(ne.Fragment,{children:[ne.jsx("li",{className:"pr-5",children:r.email}),ne.jsx("li",{children:ne.jsx("button",{onClick:e,className:"hover:underline text-sm cursor-pointer",children:""})})]}):ne.jsxs(ne.Fragment,{children:[ne.jsx("li",{children:ne.jsx(Ol,{to:"/Register",className:"hover:underline pr-5",children:""})}),ne.jsx("li",{children:ne.jsx(Ol,{to:"/signUp",className:"hover:underline",children:""})})]})})]})}),ne.jsx("main",{className:"p-4",children:ne.jsxs(Z1,{children:[ne.jsx(Fc,{path:"/ToDoSite",element:ne.jsx(rO,{})}),ne.jsx(Fc,{path:"/Register",element:ne.jsx(tO,{})}),ne.jsx(Fc,{path:"/signUp",element:ne.jsx(eO,{})})]})})]})})})}o1.createRoot(document.getElementById("root")).render(ne.jsx(G.StrictMode,{children:ne.jsx(sO,{})}));
